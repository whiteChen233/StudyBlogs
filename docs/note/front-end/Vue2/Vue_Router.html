<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.13" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.48" />
    <style>
      html {
        background: var(--bg-color, #fff);
      }

      html[data-theme="dark"] {
        background: var(--bg-color, #1d1e1f);
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://blog.white233.top/docs/note/front-end/Vue2/Vue_Router.html"><meta property="og:site_name" content="温故而知新~"><meta property="og:title" content="Vue-路由管理器"><meta property="og:description" content="什么是路由 路由是一个网络工程里面的术语。路由(routing)就是通过互联的网络把信息从源地址传输到目的地址的活动。 路由器提供了两种机制：路由和转送 路由时决定数据包从来源到目的地的路径 转送将输入端的数据转移到合适的输出端 路由中有一个非常重要的概念叫路由表 路由表本质上就是一个映射表，决定了数据包的指向 从表现形式上看：路由就是指随着浏览器地址..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2024-06-07T09:12:43.000Z"><meta property="article:author" content="White"><meta property="article:published_time" content="2021-08-17T00:00:00.000Z"><meta property="article:modified_time" content="2024-06-07T09:12:43.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Vue-路由管理器","image":[""],"datePublished":"2021-08-17T00:00:00.000Z","dateModified":"2024-06-07T09:12:43.000Z","author":[{"@type":"Person","name":"White","url":"https://blog.white233.top","email":"white996@qq.com"}]}</script><title>Vue-路由管理器 | 温故而知新~</title><meta name="description" content="什么是路由 路由是一个网络工程里面的术语。路由(routing)就是通过互联的网络把信息从源地址传输到目的地址的活动。 路由器提供了两种机制：路由和转送 路由时决定数据包从来源到目的地的路径 转送将输入端的数据转移到合适的输出端 路由中有一个非常重要的概念叫路由表 路由表本质上就是一个映射表，决定了数据包的指向 从表现形式上看：路由就是指随着浏览器地址...">
    <link rel="preload" href="/assets/style-CBApWzJR.css" as="style"><link rel="stylesheet" href="/assets/style-CBApWzJR.css">
    <link rel="modulepreload" href="/assets/app-De7shokQ.js"><link rel="modulepreload" href="/assets/Vue_Router.html-CVFbDLaX.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-DlAUqK2U.js">
    
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">跳至主要內容</a><!--]--><div class="theme-container external-link-icon has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><!--[--><a class="route-link vp-brand" href="/"><img class="vp-nav-logo" src="/logo.png" alt><!----><span class="vp-site-name hide-in-pad">温故而知新~</span></a><!--]--><!----></div><div class="vp-navbar-center"><!----><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/docs/" aria-label="首页"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="mdi:home" width="1em" height="1em"></iconify-icon><!--]-->首页<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="烂笔头"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="mdi:lead-pencil" width="1em" height="1em"></iconify-icon>烂笔头<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/docs/note/QCCSTP/" aria-label="软考"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="mdi:certificate" width="1em" height="1em"></iconify-icon><!--]-->软考<!----></a></li><li class="vp-dropdown-item"><a class="route-link route-link-active auto-link" href="/docs/note/front-end/" aria-label="Web 开发"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="mdi:web" width="1em" height="1em"></iconify-icon><!--]-->Web 开发<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/docs/note/back-end/" aria-label="服务端开发"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="mdi:server" width="1em" height="1em"></iconify-icon><!--]-->服务端开发<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/docs/note/tools/" aria-label="软件工具"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="mdi:toolbox" width="1em" height="1em"></iconify-icon><!--]-->软件工具<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/docs/note/design/" aria-label="软件设计"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="mdi:palette" width="1em" height="1em"></iconify-icon><!--]-->软件设计<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="系列"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="mdi:format-list-bulleted-type" width="1em" height="1em"></iconify-icon>系列<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/docs/series/step-by-step/" aria-label="手把手"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="mdi:sign-language" width="1em" height="1em"></iconify-icon><!--]-->手把手<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/docs/series/games/" aria-label="第九艺术"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="mdi:controller" width="1em" height="1em"></iconify-icon><!--]-->第九艺术<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/docs/links/" aria-label="链接"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="mdi:link-variant" width="1em" height="1em"></iconify-icon><!--]-->链接<!----></a></div></nav><!--]--><!----></div><div class="vp-navbar-end"><!----><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/whiteChen233/whitechen233.github.io" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-outlook-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon" name="outlook"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="vp-outlook-dropdown"><!----></div></button></div><!--[--><button type="button" class="search-pro-button" aria-label="搜索"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon" name="search"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="search-pro-placeholder">搜索</div><div class="search-pro-key-hints"><kbd class="search-pro-key">Ctrl</kbd><kbd class="search-pro-key">K</kbd></div></button><!--]--><!--]--><!----><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!----><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><p class="vp-sidebar-header active"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="mdi:web" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">Web 开发</span><!----></p><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><p class="vp-sidebar-header"><!----><span class="vp-sidebar-title">ES6</span><!----></p><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/docs/note/front-end/ES6/Promise.html" aria-label="Promise"><!---->Promise<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-header active"><!----><span class="vp-sidebar-title">Vue</span><!----></p><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">Vue 2</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/docs/note/front-end/Vue2/Runtime.html" aria-label="Vue 程序运行过程"><!---->Vue 程序运行过程<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/docs/note/front-end/Vue2/Component.html" aria-label="Vue 的组件化"><!---->Vue 的组件化<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/docs/note/front-end/Vue2/Slot.html" aria-label="插槽"><!---->插槽<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/docs/note/front-end/Vue2/Modules.html" aria-label="模块化"><!---->模块化<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/docs/note/front-end/Vue2/Webpack.html" aria-label="模块打包器"><!---->模块打包器<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/docs/note/front-end/Vue2/Vue_CLI.html" aria-label="Vue 脚手架"><!---->Vue 脚手架<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/docs/note/front-end/Vue2/Vue_Router.html" aria-label="Vue-路由管理器"><!---->Vue-路由管理器<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/docs/note/front-end/Vue2/Vuex.html" aria-label="状态管理模式"><!---->状态管理模式<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Vue 3</span><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li></ul></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->Vue-路由管理器</h1><div class="page-info"><span class="page-author-info" aria-label="作者🖊" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://blog.white233.top" target="_blank" rel="noopener noreferrer">White</a></span><span property="author" content="White"></span></span><!----><span class="page-date-info" aria-label="写作日期📅" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2021-08-17T00:00:00.000Z"></span><span class="page-pageview-info" aria-label="访问量🔢" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon eye-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="eye icon" name="eye"><path d="M992 512.096c0-5.76-.992-10.592-1.28-11.136-.192-2.88-1.152-8.064-2.08-10.816-.256-.672-.544-1.376-.832-2.08-.48-1.568-1.024-3.104-1.6-4.32C897.664 290.112 707.104 160 512 160c-195.072 0-385.632 130.016-473.76 322.592-1.056 2.112-1.792 4.096-2.272 5.856a55.512 55.512 0 00-.64 1.6c-1.76 5.088-1.792 8.64-1.632 7.744-.832 3.744-1.568 11.168-1.568 11.168-.224 2.272-.224 4.032.032 6.304 0 0 .736 6.464 1.088 7.808.128 1.824.576 4.512 1.12 6.976h-.032c.448 2.08 1.12 4.096 1.984 6.08.48 1.536.992 2.976 1.472 4.032C126.432 733.856 316.992 864 512 864c195.136 0 385.696-130.048 473.216-321.696 1.376-2.496 2.24-4.832 2.848-6.912.256-.608.48-1.184.672-1.728 1.536-4.48 1.856-8.32 1.728-8.32l-.032.032c.608-3.104 1.568-7.744 1.568-13.28zM512 672c-88.224 0-160-71.776-160-160s71.776-160 160-160 160 71.776 160 160-71.776 160-160 160z"></path></svg><span id="ArtalkPV" class="vp-pageview waline-pageview-count" data-path="/docs/note/front-end/Vue2/Vue_Router.html" data-page-key="/docs/note/front-end/Vue2/Vue_Router.html">...</span></span><!----><!----><span class="page-word-info" aria-label="字数🔠" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon word-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="word icon" name="word"><path d="M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z"></path><path d="M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z"></path></svg><span>约 6011 字</span><meta property="wordCount" content="6011"></span><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 20 分钟</span><meta property="timeRequired" content="PT20M"></span></div><hr></div><div class="vp-toc-placeholder"><aside id="toc"><!----><div class="vp-toc-header">此页内容<button type="button" class="print-button" title="打印"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon" name="print"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#什么是路由">什么是路由</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#后端路由阶段">后端路由阶段</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#前后端分离阶段">前后端分离阶段</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#单页面富应用阶段">单页面富应用阶段</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#url-的-hash-和-html5-的-history">URL 的 hash 和 HTML5 的 history</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#url-的-hash">URL 的 hash</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#window-的-history">window 的 history</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#安装和使用-vue-router">安装和使用 vue-router</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#安装">安装</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#使用">使用</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#默认首页">默认首页</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#history-模式">history 模式</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#编程式的导航">编程式的导航</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#动态路由">动态路由</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#响应路由参数的变化">响应路由参数的变化</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#路由懒加载">路由懒加载</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#懒加载的几种方法">懒加载的几种方法</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#把组件按组分块">把组件按组分块</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#嵌套路由">嵌套路由</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#参数传递">参数传递</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#导航守卫">导航守卫</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#全局前置守卫">全局前置守卫</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#全局解析守卫">全局解析守卫</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#全局后置钩子">全局后置钩子</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#路由独享的守卫">路由独享的守卫</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#组件内的守卫">组件内的守卫</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#完整的导航解析流程">完整的导航解析流程</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#keep-alive">keep-alive</a></li><!----><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!----></aside></div><!----><div class="theme-hope-content"><h2 id="什么是路由" tabindex="-1"><a class="header-anchor" href="#什么是路由"><span>什么是路由</span></a></h2><p>路由是一个网络工程里面的术语。路由(routing)就是通过互联的网络把信息从源地址传输到目的地址的活动。</p><p>路由器提供了两种机制：路由和转送</p><ul><li>路由时决定数据包从<strong>来源</strong>到<strong>目的地</strong>的路径</li><li>转送将<strong>输入端</strong>的数据转移到合适的<strong>输出端</strong></li></ul><p>路由中有一个非常重要的概念叫路由表</p><ul><li>路由表本质上就是一个映射表，决定了数据包的指向</li></ul><blockquote><p>从表现形式上看：路由就是指随着浏览器地址栏的变化，展示给用户的页面也不相同。<br> 从实现原理上看：路由就是 URL 到函数(页面)的映射。</p></blockquote><h3 id="后端路由阶段" tabindex="-1"><a class="header-anchor" href="#后端路由阶段"><span>后端路由阶段</span></a></h3><p>早期的网站开发整个 HTML 页面是由服务器来渲染的，服务器直接生成渲染好的 HTML 页面，返回给客户端进行展示。</p><p>一个完整的网站，服务器该如何处理页面？</p><ul><li>一个页面对应一个 URL</li><li>浏览器将 URL 发送给服务器，服务器对 URL 进行解析，交给一个 Controller 处理</li><li>Controller 进行各种处理，最终生成 HTML 或者数据，返回给前端</li></ul><p>如此来完成一个 IO 操作。这就是后端路由。</p><p>后端路由又可称之为服务器端路由，当页面中需要请求不同的路径内容时，交给服务器来进行处理，服务器渲染好整个页面，将页面返回给客户端。这样不需要单独加载任何 js 和 css，可以直接交给浏览器展示，这样安全也有利于 SEO 的优化。但是后端路由也有比较明显的缺点：</p><ul><li>整个页面的模块都是由后端人员来编写和维护的</li><li>前端开发人员如果要开发页面，需要通过服务端语言来编写页面代码</li><li>前端代码和服务端代码逻辑和数据都混杂在一起，编写和维护都是非难难的</li></ul><h3 id="前后端分离阶段" tabindex="-1"><a class="header-anchor" href="#前后端分离阶段"><span>前后端分离阶段</span></a></h3><p>随着 Ajax 的出现，有了前后端分离的开发模式。后端只需要提供 API 类返回数据，前端通过 Ajax 获取数据，并且可以通过 JavaScript 将数据渲染到页面中。这样做最大的优点就是前后前端分工明确，前端专注于可视化与交互，服务端专注于数据。并且移动端(Android/IOS)出现后，后端不需要进行任何处理，依旧使用原本的 API 即可。</p><h3 id="单页面富应用阶段" tabindex="-1"><a class="header-anchor" href="#单页面富应用阶段"><span>单页面富应用阶段</span></a></h3><p>单页 Web 应用（single page web application，SPA），就是只有一个 Web 页面的应用。其实 SPA 最主要的特点就是在前后端分离的基础上加了一层前端路由，也就是前端来维护一套路由规则。</p><p>前端路由的核心是：改变 URL，不会造成整个页面的刷新。</p><h2 id="url-的-hash-和-html5-的-history" tabindex="-1"><a class="header-anchor" href="#url-的-hash-和-html5-的-history"><span>URL 的 hash 和 HTML5 的 history</span></a></h2><h3 id="url-的-hash" tabindex="-1"><a class="header-anchor" href="#url-的-hash"><span>URL 的 hash</span></a></h3><ol><li>URL 的 hash：URL 的 hash 也就是锚点(#)，本质上是改变<code>window.location</code>的<code>href</code>属性，可以直接通过<code>location.hash</code>来改变<code>href</code>，但是页面不会发生刷新。</li><li>当页面中的 hash 发生变化时，会触发<code>hashchange</code>事件，可以通过监听这个事件来判断路由是否发生了变化。</li></ol><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#002339;--shiki-dark:#E6E6E6;--shiki-light-bg:#FFF;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes slack-ochin slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;">window</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#7EB233;--shiki-dark:#DCDCAA;">addEventListener</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">(</span></span>
<span class="line"><span style="--shiki-light:#A44185;--shiki-dark:#CE9178;">  &#39;hashchange&#39;</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">  (</span><span style="--shiki-light:#B1108E;--shiki-dark:#9CDCFE;">event</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#0991B6;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#0991B6;--shiki-dark:#569CD6;">    const</span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;"> oldURL</span><span style="--shiki-light:#7B30D0;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;"> event</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;">oldURL</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">; </span><span style="--shiki-light:#357B42;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 上一个URL</span></span>
<span class="line"><span style="--shiki-light:#0991B6;--shiki-dark:#569CD6;">    const</span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;"> newURL</span><span style="--shiki-light:#7B30D0;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;"> event</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;">newURL</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">; </span><span style="--shiki-light:#357B42;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 当前的URL</span></span>
<span class="line"><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;">    console</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#7EB233;--shiki-dark:#DCDCAA;">log</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;">newURL</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">, </span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;">oldURL</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">  },</span></span>
<span class="line"><span style="--shiki-light:#174781;--shiki-dark:#569CD6;">  false</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">提示</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>href</mtext><mo>→</mo><mstyle mathcolor="red"><mi>h</mi></mstyle><mtext>yper </mtext><mstyle mathcolor="red"><mi>r</mi><mi>e</mi><mi>f</mi></mstyle><mtext>erence</mtext></mrow><annotation encoding="application/x-tex">\text{href} \to \textcolor{red}{h}\text{yper}\ \textcolor{red}{ref}\text{erence}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord text"><span class="mord">href</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="color:red;">h</span><span class="mord text"><span class="mord">yper</span></span><span class="mspace"> </span><span class="mord mathnormal" style="color:red;">re</span><span class="mord mathnormal" style="margin-right:0.10764em;color:red;">f</span><span class="mord text"><span class="mord">erence</span></span></span></span></span> 的缩写</p></div><h3 id="window-的-history" tabindex="-1"><a class="header-anchor" href="#window-的-history"><span>window 的 history</span></a></h3><p>Window.history 是一个只读属性，用来获取 History 对象的引用，History 对象提供了操作浏览器会话历史（浏览器地址栏中访问的页面，以及当前页面中通过框架加载的页面）的接口。</p><p>History API：</p><ol><li><p>向后跳转：<code>window.history.back()</code>，这和用户点击浏览器回退按钮的效果相同。</p></li><li><p>向前跳转：<code>window.history.forward()</code>，这和用户点击浏览器前进按钮的效果相同。</p></li><li><p>跳转到 history 中指定的一个点: <code>window.history.go()</code>，用<code>go()</code>方法载入到会话历史中的某一特定页面，通过与当前页面相对位置来标志 (当前页面的相对位置标志为 0).</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#002339;--shiki-dark:#E6E6E6;--shiki-light-bg:#FFF;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes slack-ochin slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;">window</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;">history</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#7EB233;--shiki-dark:#DCDCAA;">go</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#7B30D0;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#174781;--shiki-dark:#B5CEA8;">1</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">); </span><span style="--shiki-light:#357B42;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 相当于 back()</span></span>
<span class="line"><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;">window</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;">history</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#7EB233;--shiki-dark:#DCDCAA;">go</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#174781;--shiki-dark:#B5CEA8;">1</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">); </span><span style="--shiki-light:#357B42;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 相当于 forward()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#357B42;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 通过查看长度属性的值来确定的历史堆栈中页面的数量</span></span>
<span class="line"><span style="--shiki-light:#0991B6;--shiki-dark:#569CD6;">let</span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;"> numberOfEntries</span><span style="--shiki-light:#7B30D0;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;"> window</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;">history</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#002339;--shiki-dark:#9CDCFE;">length</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>添加和修改历史记录中的条目：</p><p>HTML5 引入了 history.pushState() 和 history.replaceState() 方法，它们分别可以添加和修改历史记录条目。这些方法通常与 window.onpopstate 配合使用。</p><ul><li><p><code>pushState()</code>方法：</p><p>pushState() 需要三个参数: 一个状态对象, 一个标题 (目前被忽略), 和 (可选的) 一个 URL. 让我们来解释下这三个参数详细内容：</p><ul><li><strong>状态对象</strong> — 状态对象 state 是一个 JavaScript 对象，通过<code>pushState()</code>创建新的历史记录条目。无论什么时候用户导航到新的状态，popstate 事件就会被触发，且该事件的 state 属性包含该历史记录条目状态对象的副本。<br> 状态对象可以是能被序列化的任何东西。原因在于 Firefox 将状态对象保存在用户的磁盘上，以便在用户重启浏览器时使用，我们规定了状态对象在序列化表示后有 640k 的大小限制。如果你给<code>pushState()</code>方法传了一个序列化后大于 640k 的状态对象，该方法会抛出异常。如果你需要更大的空间，建议使用 sessionStorage 以及 localStorage.</li><li><strong>标题</strong> — Firefox 目前忽略这个参数，但未来可能会用到。在此处传一个空字符串应该可以安全的防范未来这个方法的更改。或者，你可以为跳转的 state 传递一个短标题。</li><li><strong>URL</strong> — 该参数定义了新的历史 URL 记录。注意，调用<code>pushState()</code>后浏览器并不会立即加载这个 URL，但可能会在稍后某些情况下加载这个 URL，比如在用户重新打开浏览器时。新 URL 不必须为绝对路径。如果新 URL 是相对路径，那么它将被作为相对于当前 URL 处理。新 URL 必须与当前 URL 同源，否则 pushState() 会抛出一个异常。该参数是可选的，缺省为当前 URL。</li></ul><p>在某种意义上，调用<code>pushState()</code>与设置<code>window.location = &quot;#foo&quot;</code>类似，二者都会在当前页面创建并激活新的历史记录。但<code>pushState()</code>具有如下几条优点：</p><ul><li>新的 URL 可以是与当前 URL 同源的任意 URL 。相反，只有在修改哈希时，设置<code>window.location</code>才能是同一个 document。</li><li>如果你不想改 URL，就不用改。相反，设置<code>window.location = &quot;#foo&quot;</code>在当前哈希不是 #foo 时， 才能创建新的历史记录项。</li><li>你可以将任意数据和新的历史记录项相关联。而基于哈希的方式，要把所有相关数据编码为短字符串。</li><li>如果 标题 随后还会被浏览器所用到，那么这个数据是可以被使用的（哈希则不是）。<br> 注意<code>pushState()</code>绝对不会触发 hashchange 事件，即使新的 URL 与旧的 URL 仅哈希不同也是如此。</li></ul></li><li><p><code>replaceState()</code>方法：</p><p><code>history.replaceState()</code>的使用与<code>history.pushState()</code>非常相似，区别在于<code>replaceState()</code>是修改了当前的历史记录项而不是新建一个。注意这并不会阻止其在全局浏览器历史记录中创建一个新的历史记录项。</p><p><code>replaceState()</code>的使用场景在于为了响应用户操作，你想要更新状态对象 state 或者当前历史记录的 URL。</p></li><li><p><code>popstate</code>事件：</p><p>每当活动的历史记录项发生变化时， popstate 事件都会被传递给 window 对象。如果当前活动的历史记录项是被 pushState 创建的，或者是由 replaceState 改变的，那么 popstate 事件的状态属性 state 会包含一个当前历史记录状态对象的拷贝。</p></li></ul></li></ol><h2 id="安装和使用-vue-router" tabindex="-1"><a class="header-anchor" href="#安装和使用-vue-router"><span>安装和使用 vue-router</span></a></h2><p>目前前端主流的三大框架，都有自己的路由实现：</p><ul><li>Angular 的 ngRouter</li><li>React 的 ReactRouter</li><li>Vue 的 vue-router</li></ul><p>vue-router 是 Vue.js 的官方路由插件，它和 vue.js 是深度集成的，适合于构建单页面应用。</p><p>vue-router 是基于路由和组件的，路由用于设定访问路径，将路径和组件映射起来。在单页面应用中，页面路径的改变就是组件的切换。</p><h3 id="安装" tabindex="-1"><a class="header-anchor" href="#安装"><span>安装</span></a></h3><p>执行以下命令安装 vue-router：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#002339;--shiki-dark:#E6E6E6;--shiki-light-bg:#FFF;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes slack-ochin slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#7EB233;--shiki-dark:#DCDCAA;">npm</span><span style="--shiki-light:#A44185;--shiki-dark:#CE9178;"> install</span><span style="--shiki-light:#A44185;--shiki-dark:#CE9178;"> vue-router</span><span style="--shiki-light:#174781;--shiki-dark:#CE9178;"> --save</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>在模块化工程中使用它(因为是一个插件，所以可以通过<code>Vue.use()</code>来安装路由功能)</p><ul><li>第一步：<strong>导入</strong>路由对象，并且调用<code>Vue.use(VueRouter)</code></li><li>第二步：创建<strong>路由实例</strong>，并且传入路由<strong>映射配置</strong></li><li>第三步：在<strong>Vue 实例</strong>中<strong>挂载</strong>创建的<strong>路由实例</strong></li></ul><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#002339;--shiki-dark:#E6E6E6;--shiki-light-bg:#FFF;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes slack-ochin slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#357B42;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// /router/index.ts</span></span>
<span class="line"><span style="--shiki-light:#7B30D0;--shiki-dark:#C586C0;">import</span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;"> Vue</span><span style="--shiki-light:#7B30D0;--shiki-dark:#C586C0;"> from</span><span style="--shiki-light:#A44185;--shiki-dark:#CE9178;"> &#39;vue&#39;</span></span>
<span class="line"><span style="--shiki-light:#7B30D0;--shiki-dark:#C586C0;">import</span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;"> VueRoter</span><span style="--shiki-light:#7B30D0;--shiki-dark:#C586C0;"> from</span><span style="--shiki-light:#A44185;--shiki-dark:#CE9178;"> &#39;vue-router&#39;</span></span>
<span class="line"><span style="--shiki-light:#357B42;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 安装插件</span></span>
<span class="line"><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;">Vue</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#7EB233;--shiki-dark:#DCDCAA;">use</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;">VueRouter</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#357B42;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 创建VueRouter对象</span></span>
<span class="line"><span style="--shiki-light:#0991B6;--shiki-dark:#569CD6;">const</span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;"> routers</span><span style="--shiki-light:#7B30D0;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;"> []</span></span>
<span class="line"><span style="--shiki-light:#357B42;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 创建路由对象</span></span>
<span class="line"><span style="--shiki-light:#7B30D0;--shiki-dark:#C586C0;">export</span><span style="--shiki-light:#7B30D0;--shiki-dark:#C586C0;"> default</span><span style="--shiki-light:#7B30D0;--shiki-dark:#569CD6;"> new</span><span style="--shiki-light:#7EB233;--shiki-dark:#DCDCAA;"> VueRouter</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">({</span></span>
<span class="line"><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;">  routers</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">})</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#357B42;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// /main.js</span></span>
<span class="line"><span style="--shiki-light:#7B30D0;--shiki-dark:#C586C0;">import</span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;"> Vue</span><span style="--shiki-light:#7B30D0;--shiki-dark:#C586C0;"> from</span><span style="--shiki-light:#A44185;--shiki-dark:#CE9178;"> &#39;vue&#39;</span></span>
<span class="line"><span style="--shiki-light:#7B30D0;--shiki-dark:#C586C0;">import</span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;"> App</span><span style="--shiki-light:#7B30D0;--shiki-dark:#C586C0;"> from</span><span style="--shiki-light:#A44185;--shiki-dark:#CE9178;"> &#39;./App&#39;</span></span>
<span class="line"><span style="--shiki-light:#7B30D0;--shiki-dark:#C586C0;">import</span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;"> router</span><span style="--shiki-light:#7B30D0;--shiki-dark:#C586C0;"> from</span><span style="--shiki-light:#A44185;--shiki-dark:#CE9178;"> &#39;./router&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7B30D0;--shiki-dark:#C586C0;">export</span><span style="--shiki-light:#7B30D0;--shiki-dark:#C586C0;"> default</span><span style="--shiki-light:#7B30D0;--shiki-dark:#569CD6;"> new</span><span style="--shiki-light:#7EB233;--shiki-dark:#DCDCAA;"> Vue</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;"> ({</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#9CDCFE;">  el:</span><span style="--shiki-light:#A44185;--shiki-dark:#CE9178;"> &#39;#app&#39;</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;">  router</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#7EB233;--shiki-dark:#DCDCAA;">  render</span><span style="--shiki-light:#002339;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#B1108E;--shiki-dark:#9CDCFE;"> h</span><span style="--shiki-light:#0991B6;--shiki-dark:#569CD6;"> =&gt;</span><span style="--shiki-light:#7EB233;--shiki-dark:#DCDCAA;"> h</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;">App</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">})</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="使用" tabindex="-1"><a class="header-anchor" href="#使用"><span>使用</span></a></h3><p>使用 vue-router 的步骤：</p><ul><li>第一步：创建路由组件</li><li>第二步：配置路由映射：组件和路径映射关系</li><li>第三步：使用路由：<code>&lt;router-link&gt;</code>和<code>&lt;router-view&gt;</code></li></ul><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#002339;--shiki-dark:#E6E6E6;--shiki-light-bg:#FFF;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes slack-ochin slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#357B42;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// router/index.ts</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#357B42;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 创建VueRouter对象</span></span>
<span class="line"><span style="--shiki-light:#0991B6;--shiki-dark:#569CD6;">const</span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;"> routers</span><span style="--shiki-light:#7B30D0;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;"> [</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">  {</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#9CDCFE;">    path:</span><span style="--shiki-light:#A44185;--shiki-dark:#CE9178;"> &#39;/home&#39;</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#7EB233;--shiki-dark:#DCDCAA;">    component</span><span style="--shiki-light:#002339;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;"> () </span><span style="--shiki-light:#0991B6;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#7B30D0;--shiki-dark:#569CD6;"> import</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#A44185;--shiki-dark:#CE9178;">&#39;../components/Home&#39;</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">  },</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">  {</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#9CDCFE;">    path:</span><span style="--shiki-light:#A44185;--shiki-dark:#CE9178;"> &#39;/about&#39;</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#7EB233;--shiki-dark:#DCDCAA;">    component</span><span style="--shiki-light:#002339;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;"> () </span><span style="--shiki-light:#0991B6;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#7B30D0;--shiki-dark:#569CD6;"> import</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#A44185;--shiki-dark:#CE9178;">&#39;../components/About&#39;</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">  },</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">];</span></span>
<span class="line"><span style="--shiki-light:#357B42;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 省略其他代码...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-vue line-numbers-mode" data-highlighter="shiki" data-ext="vue" data-title="vue" style="--shiki-light:#002339;--shiki-dark:#E6E6E6;--shiki-light-bg:#FFF;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes slack-ochin slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">// App.vue</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#0444AC;--shiki-dark:#569CD6;">template</span><span style="--shiki-light:#002339;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#0444AC;--shiki-dark:#569CD6;">div</span><span style="--shiki-light:#DF8618;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> id</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#A44185;--shiki-dark:#CE9178;">&quot;app&quot;</span><span style="--shiki-light:#002339;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#0444AC;--shiki-dark:#569CD6;">router-link</span><span style="--shiki-light:#DF8618;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> to</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#A44185;--shiki-dark:#CE9178;">&quot;/home&quot;</span><span style="--shiki-light:#002339;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">首页</span><span style="--shiki-light:#002339;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#0444AC;--shiki-dark:#569CD6;">router-link</span><span style="--shiki-light:#002339;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#0444AC;--shiki-dark:#569CD6;">router-link</span><span style="--shiki-light:#DF8618;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> to</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#A44185;--shiki-dark:#CE9178;">&quot;/about&quot;</span><span style="--shiki-light:#002339;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">关于</span><span style="--shiki-light:#002339;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#0444AC;--shiki-dark:#569CD6;">router-link</span><span style="--shiki-light:#002339;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#0444AC;--shiki-dark:#569CD6;">router-view</span><span style="--shiki-light:#002339;--shiki-dark:#808080;">&gt;&lt;/</span><span style="--shiki-light:#0444AC;--shiki-dark:#569CD6;">router-view</span><span style="--shiki-light:#002339;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#0444AC;--shiki-dark:#569CD6;">div</span><span style="--shiki-light:#002339;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#0444AC;--shiki-dark:#569CD6;">template</span><span style="--shiki-light:#002339;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">// 省略其他代码...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>&lt;router-link&gt;</code>：该标签是一个 vue-router 中已经内置的组件，它最终会被渲染成 a 标签</li><li><code>&lt;router-view&gt;</code>：该标签会根据当前路由的路径，动态渲染出不同的组件</li><li>网页的其他内容，比如顶部的标题/导航，或者底部的一些版权信息等会和<code>&lt;router-view&gt;</code>处于同一个等级</li><li>在路由切换时，切换的是<code>&lt;router-view&gt;</code>挂载的组件，其他内容不会发生改变</li></ul><blockquote><p>router-link 补充</p><p>除了之前使用的属性<code>to</code>，指定跳转的路径，还有一些其他属性：</p><ul><li><code>tag</code>：指定<code>&lt;router-link&gt;</code>最终渲染成什么标签，默认是<code>&lt;a&gt;</code>。<code>&lt;router-link to=&#39;/&#39; tag=&#39;li&#39;&gt;</code>最终会渲染成<code>&lt;li&gt;</code></li><li><code>replace</code>：不会留下 history 记录，和使用<code>history.replaceState()</code>效果一样。<code>&lt;router-link to=&#39;/&#39; replace&gt;</code></li><li><code>active-class</code>：当<code>&lt;router-link&gt;</code>对应的路由匹配成功是，会自动给当前的元素设置一个<code>router-link-active</code>的 calss，可以通过设置<code>active-class</code>来修改默认的名称。 <ul><li>在进行高亮显示的导航菜单或者底部 tabbar 时，会使用到该类</li><li>一般会直接使用默认值而不会修改类的属性</li><li>也可以在 VueRouter 中配置<code>linkActiveClass</code>来指定全局的类名</li></ul></li></ul></blockquote><h3 id="默认首页" tabindex="-1"><a class="header-anchor" href="#默认首页"><span>默认首页</span></a></h3><p>一般情况下，进入网站首页希望默认渲染某个页面的内容，在之前的例子中需要在 routers 中添加如下代码即可：</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#002339;--shiki-dark:#E6E6E6;--shiki-light-bg:#FFF;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes slack-ochin slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#357B42;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 配置一个根路径的映射，重定向到/home</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">  path: </span><span style="--shiki-light:#A44185;--shiki-dark:#CE9178;">&#39;/&#39;</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">  redirect: </span><span style="--shiki-light:#A44185;--shiki-dark:#CE9178;">&#39;/home&#39;</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="history-模式" tabindex="-1"><a class="header-anchor" href="#history-模式"><span>history 模式</span></a></h3><p>默认情况下，vue-router 是使用 hash 模式的，也就是 url 上会带上一个<code>#</code>，这样不太美观，通过修改 router 的 mode 属性来变更为 history 模式</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#002339;--shiki-dark:#E6E6E6;--shiki-light-bg:#FFF;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes slack-ochin slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#357B42;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 添加 mode 属性</span></span>
<span class="line"><span style="--shiki-light:#7B30D0;--shiki-dark:#C586C0;">export</span><span style="--shiki-light:#7B30D0;--shiki-dark:#C586C0;"> default</span><span style="--shiki-light:#7B30D0;--shiki-dark:#569CD6;"> new</span><span style="--shiki-light:#7EB233;--shiki-dark:#DCDCAA;"> VueRouter</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">({</span></span>
<span class="line"><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;">  routers</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#9CDCFE;">  mode:</span><span style="--shiki-light:#A44185;--shiki-dark:#CE9178;"> &#39;history&#39;</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">});</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="编程式的导航" tabindex="-1"><a class="header-anchor" href="#编程式的导航"><span>编程式的导航</span></a></h3><p>除了使用<code>&lt;router-link&gt;</code>创建 a 标签来定义导航链接，我们还可以借助 router 的实例方法，通过编写代码来实现。</p><ul><li><code>router.push(location, onComplete?, onAbort?)</code></li><li><code>router.replace(location, onComplete?, onAbort?)</code></li><li><code>router.go(n)</code></li></ul><p>在<code>Vue</code>实例内部，你可以通过<code>$router</code>访问路由实例。因此你可以调用<code>this.$router.push</code></p><table><thead><tr><th style="text-align:center;">声明式</th><th style="text-align:center;">编程式</th></tr></thead><tbody><tr><td style="text-align:center;"><code>&lt;router-link :to=&quot;...&quot;&gt;</code></td><td style="text-align:center;"><code>router.push(...)</code></td></tr><tr><td style="text-align:center;"><code>&lt;router-link :to=&quot;...&quot; replace&gt;</code></td><td style="text-align:center;"><code>router.replace(...)</code></td></tr></tbody></table><h2 id="动态路由" tabindex="-1"><a class="header-anchor" href="#动态路由"><span>动态路由</span></a></h2><p>在某些情况下，一个页面的路径可能时不确定的，比如某个系统中用户界面，形如：<code>/user/zhangsan</code>、<code>/user/123</code>，除了前面的<code>/user</code>之外，后面还有其他参数。这种 path 和 Component 的匹配关系，称之为动态路由（也是路由传递数据的一种方式）。</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#002339;--shiki-dark:#E6E6E6;--shiki-light-bg:#FFF;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes slack-ochin slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#357B42;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// router.js</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">  path: </span><span style="--shiki-light:#A44185;--shiki-dark:#CE9178;">&#39;/user/:id&#39;</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">  component: () </span><span style="--shiki-light:#0991B6;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#7B30D0;--shiki-dark:#569CD6;"> import</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#A44185;--shiki-dark:#CE9178;">&#39;@/components/User&#39;</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#357B42;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// User.vue</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">methods: {</span></span>
<span class="line"><span style="--shiki-light:#7EB233;--shiki-dark:#DCDCAA;">  getId</span><span style="--shiki-light:#7B30D0;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;"> () </span><span style="--shiki-light:#0991B6;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#357B42;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    // 注意这里是route而不是router</span></span>
<span class="line"><span style="--shiki-light:#7B30D0;--shiki-dark:#C586C0;">    return</span><span style="--shiki-light:#000000;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;">$route</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;">params</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;">id</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">  }</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="响应路由参数的变化" tabindex="-1"><a class="header-anchor" href="#响应路由参数的变化"><span>响应路由参数的变化</span></a></h3><p>需要注意的是，当使用路由参数时，例如从<code>/user/foo</code>导航到<code>/user/bar</code>，原来的组件实例会被复用。因为两个路由都渲染同个组件，比起销毁再创建，复用则显得更加高效。不过，这也意味着组件的生命周期钩子不会再被调用。</p><p>复用组件时，想对路由参数的变化作出响应的话，你可以简单地<code>watch</code>(监测变化)<code>$route</code>对象：</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#002339;--shiki-dark:#E6E6E6;--shiki-light-bg:#FFF;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes slack-ochin slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#0991B6;--shiki-dark:#569CD6;">const</span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;"> User</span><span style="--shiki-light:#7B30D0;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#9CDCFE;">  template:</span><span style="--shiki-light:#A44185;--shiki-dark:#CE9178;"> &#39;...&#39;</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#9CDCFE;">  watch:</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#7EB233;--shiki-dark:#DCDCAA;">    $route</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#B1108E;--shiki-dark:#9CDCFE;">to</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">, </span><span style="--shiki-light:#B1108E;--shiki-dark:#9CDCFE;">from</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">) {</span></span>
<span class="line"><span style="--shiki-light:#357B42;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">      // 对路由变化作出响应...</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">    },</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">  },</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">};</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>或者使用 2.2 中引入的<code>beforeRouteUpdate</code>导航守卫：</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#002339;--shiki-dark:#E6E6E6;--shiki-light-bg:#FFF;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes slack-ochin slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#0991B6;--shiki-dark:#569CD6;">const</span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;"> User</span><span style="--shiki-light:#7B30D0;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#9CDCFE;">  template:</span><span style="--shiki-light:#A44185;--shiki-dark:#CE9178;"> &#39;...&#39;</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#7EB233;--shiki-dark:#DCDCAA;">  beforeRouteUpdate</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#B1108E;--shiki-dark:#9CDCFE;">to</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">, </span><span style="--shiki-light:#B1108E;--shiki-dark:#9CDCFE;">from</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">, </span><span style="--shiki-light:#B1108E;--shiki-dark:#9CDCFE;">next</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">) {</span></span>
<span class="line"><span style="--shiki-light:#357B42;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    // react to route changes...</span></span>
<span class="line"><span style="--shiki-light:#357B42;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    // don&#39;t forget to call next()</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">  },</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">};</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="路由懒加载" tabindex="-1"><a class="header-anchor" href="#路由懒加载"><span>路由懒加载</span></a></h2><p>当打包构建应用时，JavaScript 包会变得非常大，影响页面加载。如果我们能把不同路由对应的组件分割成不同的代码块，然后当路由被访问的时候才加载对应组件，这样就更加高效了。</p><p>结合 Vue 的异步组件 (opens new window)和 Webpack 的代码分割功能 (opens new window)，轻松实现路由组件的懒加载。</p><p>首先，可以将异步组件定义为返回一个 Promise 的工厂函数 (该函数返回的 Promise 应该 resolve 组件本身)：</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#002339;--shiki-dark:#E6E6E6;--shiki-light-bg:#FFF;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes slack-ochin slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#0991B6;--shiki-dark:#569CD6;">const</span><span style="--shiki-light:#7EB233;--shiki-dark:#DCDCAA;"> Foo</span><span style="--shiki-light:#7B30D0;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;"> () </span><span style="--shiki-light:#0991B6;--shiki-dark:#569CD6;">=&gt;</span></span>
<span class="line"><span style="--shiki-light:#DC3EB7;--shiki-dark:#4EC9B0;">  Promise</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#7EB233;--shiki-dark:#DCDCAA;">resolve</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">({</span></span>
<span class="line"><span style="--shiki-light:#357B42;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    /* 组件定义对象 */</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">  });</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>第二，在 Webpack 2 中，我们可以使用动态 import (opens new window)语法来定义代码分块点 (split point)：</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#002339;--shiki-dark:#E6E6E6;--shiki-light-bg:#FFF;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes slack-ochin slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#7B30D0;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#A44185;--shiki-dark:#CE9178;">&#39;./Foo.vue&#39;</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">); </span><span style="--shiki-light:#357B42;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 返回 Promise</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>结合这两者，这就是如何定义一个能够被 Webpack 自动代码分割的异步组件。</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#002339;--shiki-dark:#E6E6E6;--shiki-light-bg:#FFF;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes slack-ochin slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#0991B6;--shiki-dark:#569CD6;">const</span><span style="--shiki-light:#7EB233;--shiki-dark:#DCDCAA;"> Foo</span><span style="--shiki-light:#7B30D0;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;"> () </span><span style="--shiki-light:#0991B6;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#7B30D0;--shiki-dark:#569CD6;"> import</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#A44185;--shiki-dark:#CE9178;">&#39;./Foo.vue&#39;</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>在路由配置中什么都不需要改变，只需要像往常一样使用 Foo：</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#002339;--shiki-dark:#E6E6E6;--shiki-light-bg:#FFF;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes slack-ochin slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#0991B6;--shiki-dark:#569CD6;">const</span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;"> router</span><span style="--shiki-light:#7B30D0;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#7B30D0;--shiki-dark:#569CD6;"> new</span><span style="--shiki-light:#7EB233;--shiki-dark:#DCDCAA;"> VueRouter</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">({</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#9CDCFE;">  routes:</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;"> [{ </span><span style="--shiki-light:#002339;--shiki-dark:#9CDCFE;">path:</span><span style="--shiki-light:#A44185;--shiki-dark:#CE9178;"> &#39;/foo&#39;</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">, </span><span style="--shiki-light:#002339;--shiki-dark:#9CDCFE;">component:</span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;"> Foo</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;"> }],</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">});</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="懒加载的几种方法" tabindex="-1"><a class="header-anchor" href="#懒加载的几种方法"><span>懒加载的几种方法</span></a></h3><ol><li><p>结合 Vue 的异步组件和 webpack 的代码分析</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#002339;--shiki-dark:#E6E6E6;--shiki-light-bg:#FFF;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes slack-ochin slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#0991B6;--shiki-dark:#569CD6;">const</span><span style="--shiki-light:#7EB233;--shiki-dark:#DCDCAA;"> Home</span><span style="--shiki-light:#7B30D0;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;"> (</span><span style="--shiki-light:#B1108E;--shiki-dark:#9CDCFE;">resolve</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#0991B6;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;">  require</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#7EB233;--shiki-dark:#DCDCAA;">ensure</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">([</span><span style="--shiki-light:#A44185;--shiki-dark:#CE9178;">&#39;../components/Home.vue&#39;</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">], () </span><span style="--shiki-light:#0991B6;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#7EB233;--shiki-dark:#DCDCAA;">    resolve</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#7EB233;--shiki-dark:#DCDCAA;">require</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#A44185;--shiki-dark:#CE9178;">&#39;../components/Home.vue&#39;</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">));</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">  });</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">};</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>AMD 写法</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#002339;--shiki-dark:#E6E6E6;--shiki-light-bg:#FFF;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes slack-ochin slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#0991B6;--shiki-dark:#569CD6;">const</span><span style="--shiki-light:#7EB233;--shiki-dark:#DCDCAA;"> Home</span><span style="--shiki-light:#7B30D0;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;"> (</span><span style="--shiki-light:#B1108E;--shiki-dark:#9CDCFE;">resolve</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#0991B6;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#7EB233;--shiki-dark:#DCDCAA;"> require</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">([</span><span style="--shiki-light:#A44185;--shiki-dark:#CE9178;">&#39;../components/Home.vue&#39;</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">], </span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;">resolve</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>在 ES6 中，可以使用跟简单的写法来组织 Vue 一部组件和 Webpack 的代码分割</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#002339;--shiki-dark:#E6E6E6;--shiki-light-bg:#FFF;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes slack-ochin slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#0991B6;--shiki-dark:#569CD6;">const</span><span style="--shiki-light:#7EB233;--shiki-dark:#DCDCAA;"> Home</span><span style="--shiki-light:#7B30D0;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;"> () </span><span style="--shiki-light:#0991B6;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#7B30D0;--shiki-dark:#569CD6;"> import</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#A44185;--shiki-dark:#CE9178;">&#39;../components/Home.vue&#39;</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ol><h3 id="把组件按组分块" tabindex="-1"><a class="header-anchor" href="#把组件按组分块"><span>把组件按组分块</span></a></h3><p>有时候我们想把某个路由下的所有组件都打包在同个异步块 (chunk) 中。只需要使用 命名 chunk (opens new window)，一个特殊的注释语法来提供 chunk name (需要 Webpack &gt; 2.4)。</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#002339;--shiki-dark:#E6E6E6;--shiki-light-bg:#FFF;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes slack-ochin slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#0991B6;--shiki-dark:#569CD6;">const</span><span style="--shiki-light:#7EB233;--shiki-dark:#DCDCAA;"> Foo</span><span style="--shiki-light:#7B30D0;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;"> () </span><span style="--shiki-light:#0991B6;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#7EB233;--shiki-dark:#DCDCAA;"> import</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#357B42;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">/* webpackChunkName: &quot;group-foo&quot; */</span><span style="--shiki-light:#A44185;--shiki-dark:#CE9178;"> &#39;./Foo.vue&#39;</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#0991B6;--shiki-dark:#569CD6;">const</span><span style="--shiki-light:#7EB233;--shiki-dark:#DCDCAA;"> Bar</span><span style="--shiki-light:#7B30D0;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;"> () </span><span style="--shiki-light:#0991B6;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#7EB233;--shiki-dark:#DCDCAA;"> import</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#357B42;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">/* webpackChunkName: &quot;group-foo&quot; */</span><span style="--shiki-light:#A44185;--shiki-dark:#CE9178;"> &#39;./Bar.vue&#39;</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#0991B6;--shiki-dark:#569CD6;">const</span><span style="--shiki-light:#7EB233;--shiki-dark:#DCDCAA;"> Baz</span><span style="--shiki-light:#7B30D0;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;"> () </span><span style="--shiki-light:#0991B6;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#7EB233;--shiki-dark:#DCDCAA;"> import</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#357B42;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">/* webpackChunkName: &quot;group-foo&quot; */</span><span style="--shiki-light:#A44185;--shiki-dark:#CE9178;"> &#39;./Baz.vue&#39;</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Webpack 会将任何一个异步模块与相同的块名称组合到相同的异步块中。</p><h2 id="嵌套路由" tabindex="-1"><a class="header-anchor" href="#嵌套路由"><span>嵌套路由</span></a></h2><p>嵌套路由是一个很常见的功能，比如在 home 页面中，可以通过<code>/home/news</code>和<code>/home/message</code>访问不同的页面（组件），其实就是一个路径映射一个组件，访问这两个路径会分别渲染这两个组件。</p><p>如何实现嵌套路由：</p><ul><li>创建对应的子组件，并且在路由映射中配置对应的子路由</li><li>在组件内部使用<code>&lt;router-view&gt;</code>标签</li></ul><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#002339;--shiki-dark:#E6E6E6;--shiki-light-bg:#FFF;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes slack-ochin slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">  path: </span><span style="--shiki-light:#A44185;--shiki-dark:#CE9178;">&#39;/home&#39;</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">  component: () </span><span style="--shiki-light:#0991B6;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#7B30D0;--shiki-dark:#569CD6;"> import</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#A44185;--shiki-dark:#CE9178;">&#39;../components/Home&#39;</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">  children: [</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">    {</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#9CDCFE;">      path:</span><span style="--shiki-light:#A44185;--shiki-dark:#CE9178;"> &#39;news&#39;</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#7EB233;--shiki-dark:#DCDCAA;">      component</span><span style="--shiki-light:#002339;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;"> () </span><span style="--shiki-light:#0991B6;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#7B30D0;--shiki-dark:#569CD6;"> import</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#A44185;--shiki-dark:#CE9178;">&#39;../components/News&#39;</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">    },</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">    {</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#9CDCFE;">      path:</span><span style="--shiki-light:#A44185;--shiki-dark:#CE9178;"> &#39;message&#39;</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#7EB233;--shiki-dark:#DCDCAA;">      component</span><span style="--shiki-light:#002339;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;"> () </span><span style="--shiki-light:#0991B6;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#7B30D0;--shiki-dark:#569CD6;"> import</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#A44185;--shiki-dark:#CE9178;">&#39;../components/Message&#39;</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">  ]</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="参数传递" tabindex="-1"><a class="header-anchor" href="#参数传递"><span>参数传递</span></a></h2><p>有时候在页面的跳转中需要从上一个页面传递一些参数到下一个页面，主有两种传参的方式：</p><ul><li>params 的形式： <ul><li>配置路由格式： <code>/user/:id</code></li><li>传递的方式：在<code>path</code>后面跟傻瓜对应的值</li><li>传递后形成的路径：<code>/user/123</code>或<code>/user/zhangsan</code>，通过<code>$route.params.id</code>来获取上面定义的参数</li></ul></li><li>query 的形式： <ul><li>配置路由格式： <code>/user</code>，普通的配置</li><li>传递的方式：对象中使用<code>query</code>的 key 作为传递方式，传递的其实是一个对象</li><li>传递后形成的路径：<code>/user?id=123</code>或<code>/user?id=zhangsan</code>,通过<code>$route.query.id</code>来获取上面定义的参数</li></ul></li></ul><blockquote><p>注意<code>$router</code>和<code>$route</code>的区别：</p><ul><li><code>$router</code>是全局的路由，可以使用<code>push</code>、<code>replace</code>等导航到不同 URL。</li><li><code>$route</code>是当前激活的路由，可以通过它获取当前路由的<code>name</code>、<code>path</code>、<code>query</code>、<code>params</code>等属性。</li></ul></blockquote><h2 id="导航守卫" tabindex="-1"><a class="header-anchor" href="#导航守卫"><span>导航守卫</span></a></h2><p>摘自 <a href="https://router.vuejs.org/zh/guide/advanced/navigation-guards.html" target="_blank" rel="noopener noreferrer">Vue-Rouetr</a></p><p>正如其名，<code>vue-router</code>提供的导航守卫主要用来通过跳转或取消的方式守卫导航。有多种机会植入路由导航过程中：全局的, 单个路由独享的, 或者组件级的。</p><p>记住参数或查询的改变并不会触发进入/离开的导航守卫。你可以通过观察<code>$route</code>对象来应对这些变化，或使用<code>beforeRouteUpdate</code>的组件内守卫。</p><h3 id="全局前置守卫" tabindex="-1"><a class="header-anchor" href="#全局前置守卫"><span>全局前置守卫</span></a></h3><p>使用<code>router.beforeEach</code>注册一个全局前置守卫：</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#002339;--shiki-dark:#E6E6E6;--shiki-light-bg:#FFF;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes slack-ochin slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#0991B6;--shiki-dark:#569CD6;">const</span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;"> router</span><span style="--shiki-light:#7B30D0;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#7B30D0;--shiki-dark:#569CD6;"> new</span><span style="--shiki-light:#7EB233;--shiki-dark:#DCDCAA;"> VueRouter</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">({ </span><span style="--shiki-light:#7B30D0;--shiki-dark:#D4D4D4;">...</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;"> })</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;">router</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#7EB233;--shiki-dark:#DCDCAA;">beforeEach</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">((</span><span style="--shiki-light:#B1108E;--shiki-dark:#9CDCFE;">to</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">, </span><span style="--shiki-light:#B1108E;--shiki-dark:#9CDCFE;">from</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">, </span><span style="--shiki-light:#B1108E;--shiki-dark:#9CDCFE;">next</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#0991B6;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#357B42;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">  // ...</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">})</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>当一个导航触发时，全局前置守卫按照创建顺序调用。守卫是异步解析执行，此时导航在所有守卫 resolve 完之前一直处于 等待中。</p><p>每个守卫方法接收三个参数：</p><p><code>to: Route</code>: 即将要进入的目标 路由对象</p><p><code>from: Route</code>: 当前导航正要离开的路由</p><p><code>next: Function</code>: 一定要调用该方法来 resolve 这个钩子。执行效果依赖 next 方法的调用参数。</p><p><code>next()</code>: 进行管道中的下一个钩子。如果全部钩子执行完了，则导航的状态就是 confirmed (确认的)。</p><p><code>next(false)</code>: 中断当前的导航。如果浏览器的 URL 改变了 (可能是用户手动或者浏览器后退按钮)，那么 URL 地址会重置到 from 路由对应的地址。</p><p><code>next(&#39;/&#39;)</code>或者<code>next({ path: &#39;/&#39; })</code>: 跳转到一个不同的地址。当前的导航被中断，然后进行一个新的导航。你可以向<code>next</code>传递任意位置对象，且允许设置诸如<code>replace: true</code>、<code>name: &#39;home&#39;</code>之类的选项以及任何用在 <code>router-link</code>的<code>to</code>、<code>prop</code>或<code>router.push</code>中的选项。</p><p><code>next(error)</code>: (2.4.0+) 如果传入 next 的参数是一个 Error 实例，则导航会被终止且该错误会被传递给<code>router.onError()</code>注册过的回调。</p><blockquote><p>确保<code>next</code>函数在任何给定的导航守卫中都被严格调用一次。它可以出现多于一次，但是只能在所有的逻辑路径都不重叠的情况下，否则钩子永远都不会被解析或报错。</p></blockquote><h3 id="全局解析守卫" tabindex="-1"><a class="header-anchor" href="#全局解析守卫"><span>全局解析守卫</span></a></h3><blockquote><p>2.5.0 新增</p></blockquote><p>在 2.5.0+ 你可以用<code>router.beforeResolve</code>注册一个全局守卫。这和<code>router.beforeEach</code>类似，区别是在导航被确认之前，同时在所有组件内守卫和异步路由组件被解析之后，解析守卫就被调用。</p><h3 id="全局后置钩子" tabindex="-1"><a class="header-anchor" href="#全局后置钩子"><span>全局后置钩子</span></a></h3><p>你也可以注册全局后置钩子，然而和守卫不同的是，这些钩子不会接受 next 函数也不会改变导航本身：</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#002339;--shiki-dark:#E6E6E6;--shiki-light-bg:#FFF;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes slack-ochin slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;">router</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#7EB233;--shiki-dark:#DCDCAA;">afterEach</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">((</span><span style="--shiki-light:#B1108E;--shiki-dark:#9CDCFE;">to</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">, </span><span style="--shiki-light:#B1108E;--shiki-dark:#9CDCFE;">from</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#0991B6;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#357B42;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">  // ...</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">});</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="路由独享的守卫" tabindex="-1"><a class="header-anchor" href="#路由独享的守卫"><span>路由独享的守卫</span></a></h3><p>你可以在路由配置上直接定义<code>beforeEnter</code>守卫：</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#002339;--shiki-dark:#E6E6E6;--shiki-light-bg:#FFF;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes slack-ochin slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#0991B6;--shiki-dark:#569CD6;">const</span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;"> router</span><span style="--shiki-light:#7B30D0;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#7B30D0;--shiki-dark:#569CD6;"> new</span><span style="--shiki-light:#7EB233;--shiki-dark:#DCDCAA;"> VueRouter</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">({</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#9CDCFE;">  routes:</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;"> [</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">    {</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#9CDCFE;">      path:</span><span style="--shiki-light:#A44185;--shiki-dark:#CE9178;"> &#39;/foo&#39;</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#9CDCFE;">      component:</span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;"> Foo</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#7EB233;--shiki-dark:#DCDCAA;">      beforeEnter</span><span style="--shiki-light:#002339;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;"> (</span><span style="--shiki-light:#B1108E;--shiki-dark:#9CDCFE;">to</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">, </span><span style="--shiki-light:#B1108E;--shiki-dark:#9CDCFE;">from</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">, </span><span style="--shiki-light:#B1108E;--shiki-dark:#9CDCFE;">next</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#0991B6;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#357B42;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">        // ...</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">      },</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">    },</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">  ],</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">});</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这些守卫与全局前置守卫的方法参数是一样的。</p><h3 id="组件内的守卫" tabindex="-1"><a class="header-anchor" href="#组件内的守卫"><span>组件内的守卫</span></a></h3><p>最后，你可以在路由组件内直接定义以下路由导航守卫：</p><ul><li>beforeRouteEnter</li><li>beforeRouteUpdate (2.2 新增)</li><li>beforeRouteLeave</li></ul><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#002339;--shiki-dark:#E6E6E6;--shiki-light-bg:#FFF;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes slack-ochin slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#0991B6;--shiki-dark:#569CD6;">const</span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;"> Foo</span><span style="--shiki-light:#7B30D0;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#9CDCFE;">  template:</span><span style="--shiki-light:#A44185;--shiki-dark:#CE9178;"> `...`</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#7EB233;--shiki-dark:#DCDCAA;">  beforeRouteEnter</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#B1108E;--shiki-dark:#9CDCFE;">to</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">, </span><span style="--shiki-light:#B1108E;--shiki-dark:#9CDCFE;">from</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">, </span><span style="--shiki-light:#B1108E;--shiki-dark:#9CDCFE;">next</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">) {</span></span>
<span class="line"><span style="--shiki-light:#357B42;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    // 在渲染该组件的对应路由被 confirm 前调用</span></span>
<span class="line"><span style="--shiki-light:#357B42;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    // 不！能！获取组件实例 `this`</span></span>
<span class="line"><span style="--shiki-light:#357B42;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    // 因为当守卫执行前，组件实例还没被创建</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">  },</span></span>
<span class="line"><span style="--shiki-light:#7EB233;--shiki-dark:#DCDCAA;">  beforeRouteUpdate</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#B1108E;--shiki-dark:#9CDCFE;">to</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">, </span><span style="--shiki-light:#B1108E;--shiki-dark:#9CDCFE;">from</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">, </span><span style="--shiki-light:#B1108E;--shiki-dark:#9CDCFE;">next</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">) {</span></span>
<span class="line"><span style="--shiki-light:#357B42;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    // 在当前路由改变，但是该组件被复用时调用</span></span>
<span class="line"><span style="--shiki-light:#357B42;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    // 举例来说，对于一个带有动态参数的路径 /foo/:id，在 /foo/1 和 /foo/2 之间跳转的时候，</span></span>
<span class="line"><span style="--shiki-light:#357B42;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    // 由于会渲染同样的 Foo 组件，因此组件实例会被复用。而这个钩子就会在这个情况下被调用。</span></span>
<span class="line"><span style="--shiki-light:#357B42;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    // 可以访问组件实例 `this`</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">  },</span></span>
<span class="line"><span style="--shiki-light:#7EB233;--shiki-dark:#DCDCAA;">  beforeRouteLeave</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#B1108E;--shiki-dark:#9CDCFE;">to</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">, </span><span style="--shiki-light:#B1108E;--shiki-dark:#9CDCFE;">from</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">, </span><span style="--shiki-light:#B1108E;--shiki-dark:#9CDCFE;">next</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">) {</span></span>
<span class="line"><span style="--shiki-light:#357B42;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    // 导航离开该组件的对应路由时调用</span></span>
<span class="line"><span style="--shiki-light:#357B42;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    // 可以访问组件实例 `this`</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">  },</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">};</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>beforeRouteEnter</code>守卫<strong>不能</strong>访问<code>this</code>，因为守卫在导航确认前被调用，因此即将登场的新组件还没被创建。</p><p>不过，你可以通过传一个回调给<code>next</code>来访问组件实例。在导航被确认的时候执行回调，并且把组件实例作为回调方法的参数。</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#002339;--shiki-dark:#E6E6E6;--shiki-light-bg:#FFF;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes slack-ochin slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#7EB233;--shiki-dark:#DCDCAA;">beforeRouteEnter</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;"> (</span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;">to</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">, </span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;">from</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">, </span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;">next</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">) {</span></span>
<span class="line"><span style="--shiki-light:#7EB233;--shiki-dark:#DCDCAA;">  next</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#B1108E;--shiki-dark:#9CDCFE;">vm</span><span style="--shiki-light:#0991B6;--shiki-dark:#569CD6;"> =&gt;</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#357B42;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    // 通过 `vm` 访问组件实例</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">  })</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注意<code>beforeRouteEnter</code>是支持给<code>next</code>传递回调的唯一守卫。对于<code>beforeRouteUpdate</code>和<code>beforeRouteLeave</code>来说，<code>this</code>已经可用了，所以不支持传递回调，因为没有必要了。</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#002339;--shiki-dark:#E6E6E6;--shiki-light-bg:#FFF;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes slack-ochin slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#7EB233;--shiki-dark:#DCDCAA;">beforeRouteUpdate</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;"> (</span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;">to</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">, </span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;">from</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">, </span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;">next</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">) {</span></span>
<span class="line"><span style="--shiki-light:#357B42;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">  // just use `this`</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;">name</span><span style="--shiki-light:#7B30D0;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;"> to</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;">params</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;">name</span></span>
<span class="line"><span style="--shiki-light:#7EB233;--shiki-dark:#DCDCAA;">  next</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">()</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这个离开守卫通常用来禁止用户在还未保存修改前突然离开。该导航可以通过<code>next(false)</code>来取消。</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#002339;--shiki-dark:#E6E6E6;--shiki-light-bg:#FFF;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes slack-ochin slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#7EB233;--shiki-dark:#DCDCAA;">beforeRouteLeave</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;"> (</span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;">to</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">, </span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;">from</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">, </span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;">next</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">) {</span></span>
<span class="line"><span style="--shiki-light:#0991B6;--shiki-dark:#569CD6;">  const</span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;"> answer</span><span style="--shiki-light:#7B30D0;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;"> window</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#7EB233;--shiki-dark:#DCDCAA;">confirm</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#A44185;--shiki-dark:#CE9178;">&#39;Do you really want to leave? you have unsaved changes!&#39;</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#7B30D0;--shiki-dark:#C586C0;">  if</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;"> (</span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;">answer</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">) {</span></span>
<span class="line"><span style="--shiki-light:#7EB233;--shiki-dark:#DCDCAA;">    next</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">()</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">  } </span><span style="--shiki-light:#7B30D0;--shiki-dark:#C586C0;">else</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#7EB233;--shiki-dark:#DCDCAA;">    next</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#174781;--shiki-dark:#569CD6;">false</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">  }</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="完整的导航解析流程" tabindex="-1"><a class="header-anchor" href="#完整的导航解析流程"><span>完整的导航解析流程</span></a></h3><ol><li>导航被触发。</li><li>在失活的组件里调用<code>beforeRouteLeave</code>守卫。</li><li>调用全局的<code>beforeEach</code>守卫。</li><li>在重用的组件里调用<code>beforeRouteUpdate</code>守卫 (2.2+)。</li><li>在路由配置里调用<code>beforeEnter</code>。</li><li>解析异步路由组件。</li><li>在被激活的组件里调用<code>beforeRouteEnter</code>。</li><li>调用全局的<code>beforeResolve</code>守卫 (2.5+)。</li><li>导航被确认。</li><li>调用全局的<code>afterEach</code>钩子。</li><li>触发<code>DOM</code>更新。</li><li>调用<code>beforeRouteEnter</code>守卫中传给<code>next</code>的回调函数，创建好的组件实例会作为回调函数的参数传入。</li></ol><h2 id="keep-alive" tabindex="-1"><a class="header-anchor" href="#keep-alive"><span>keep-alive</span></a></h2><p><code>keep-alive</code>是 Vue 提供的一个抽象组件，用来对组件进行缓存，从而节省性能，由于是一个抽象组件，所以在页面渲染完毕后不会被渲染成一个 DOM 元素。</p><p><code>&lt;router-view&gt;</code>组件是一个<code>functional</code>组件，渲染路径匹配到的视图组件。<code>&lt;router-view&gt;</code>渲染的组件还可以内嵌自己的<code>&lt;router-view&gt;</code>，根据嵌套路径，渲染嵌套组件。</p><p>其他属性 (非<code>router-view</code>使用的属性) 都直接传给渲染的组件，很多时候，每个路由的数据都是包含在路由参数中。</p><p>因为它也是个组件，所以可以配合<code>&lt;transition&gt;</code>和<code>&lt;keep-alive&gt;</code>使用。如果两个结合一起用，要确保在内层使用<code>&lt;keep-alive&gt;</code>：</p><div class="language-vue line-numbers-mode" data-highlighter="shiki" data-ext="vue" data-title="vue" style="--shiki-light:#002339;--shiki-dark:#E6E6E6;--shiki-light-bg:#FFF;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes slack-ochin slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#002339;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#0444AC;--shiki-dark:#569CD6;">transition</span><span style="--shiki-light:#002339;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">  &lt;keep-alive&gt;</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">    &lt;router-view&gt;&lt;/router-view&gt;</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">  &lt;/keep-alive&gt;</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#0444AC;--shiki-dark:#569CD6;">transition</span><span style="--shiki-light:#002339;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>当组件在<code>keep-alive</code>内被切换时组件的<code>activated</code>、<code>deactivated</code>这两个生命周期钩子函数会被执行。</p><p>被<code>keep-alive</code>包裹的动态组件或<code>router-view</code>会缓存不活动的实例，再次被调用这些被缓存的实例会被再次复用，对于我们的某些不是需要实时更新的页面来说大大减少了性能上的消耗，不需要再次发送 HTTP 请求，但是同样也存在一个问题就是被<code>keep-alive</code>包裹的组件我们请求获取的数据不会再重新渲染页面，这也就出现了例如我们使用动态路由做匹配的话页面只会保持第一次请求数据的渲染结果，所以需要我们在特定的情况下强制刷新某些组件。</p><ol><li><p>利用 include、exclude 属性</p><div class="language-vue line-numbers-mode" data-highlighter="shiki" data-ext="vue" data-title="vue" style="--shiki-light:#002339;--shiki-dark:#E6E6E6;--shiki-light-bg:#FFF;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes slack-ochin slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#357B42;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">&lt;!-- 包含 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#0444AC;--shiki-dark:#569CD6;">keep-alive</span><span style="--shiki-light:#DF8618;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> include</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#A44185;--shiki-dark:#CE9178;">&quot;A,B&quot;</span><span style="--shiki-light:#002339;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">  &lt;router-view&gt;&lt;/router-view&gt;</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#0444AC;--shiki-dark:#569CD6;">keep-alive</span><span style="--shiki-light:#002339;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#357B42;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">&lt;!-- 不包含 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#0444AC;--shiki-dark:#569CD6;">keep-alive</span><span style="--shiki-light:#DF8618;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> exclude</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#A44185;--shiki-dark:#CE9178;">&quot;C&quot;</span><span style="--shiki-light:#002339;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">  &lt;router-view&gt;&lt;/router-view&gt;</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#0444AC;--shiki-dark:#569CD6;">keep-alive</span><span style="--shiki-light:#002339;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>include</code>属性表示只有<code>name</code>属性为<code>A,B</code>的组件会被缓存（注意是组件的名字，不是路由的名字），其它组件不会。被缓存<code>exclude</code>属性表示除了<code>name</code>属性为<code>C</code>的组件不会被缓存，其它组件都会被缓存。</p></li><li><p>利用 meta 属性</p></li></ol><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#002339;--shiki-dark:#E6E6E6;--shiki-light-bg:#FFF;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes slack-ochin slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#7B30D0;--shiki-dark:#C586C0;">export</span><span style="--shiki-light:#7B30D0;--shiki-dark:#C586C0;"> default</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;"> [</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">  {</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#9CDCFE;">    path:</span><span style="--shiki-light:#A44185;--shiki-dark:#CE9178;"> &#39;/&#39;</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#9CDCFE;">    name:</span><span style="--shiki-light:#A44185;--shiki-dark:#CE9178;"> &#39;a&#39;</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#9CDCFE;">    components:</span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;"> A</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#9CDCFE;">    meta:</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#9CDCFE;">      keepAlive:</span><span style="--shiki-light:#174781;--shiki-dark:#569CD6;"> true</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">, </span><span style="--shiki-light:#357B42;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">//需要被缓存的组件</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">    },</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">  },</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">  {</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#9CDCFE;">    path:</span><span style="--shiki-light:#A44185;--shiki-dark:#CE9178;"> &#39;/b&#39;</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#9CDCFE;">    name:</span><span style="--shiki-light:#A44185;--shiki-dark:#CE9178;"> &#39;b&#39;</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#9CDCFE;">    components:</span><span style="--shiki-light:#2F86D2;--shiki-dark:#9CDCFE;"> B</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#9CDCFE;">    meta:</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#9CDCFE;">      keepAlive:</span><span style="--shiki-light:#174781;--shiki-dark:#569CD6;"> false</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">, </span><span style="--shiki-light:#357B42;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">//不需要被缓存的组件</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">    },</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">  },</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">];</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-vue line-numbers-mode" data-highlighter="shiki" data-ext="vue" data-title="vue" style="--shiki-light:#002339;--shiki-dark:#E6E6E6;--shiki-light-bg:#FFF;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes slack-ochin slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#002339;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#0444AC;--shiki-dark:#569CD6;">div</span><span style="--shiki-light:#DF8618;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> id</span><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#A44185;--shiki-dark:#CE9178;">&quot;app&quot;</span><span style="--shiki-light:#002339;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">  &lt;keep-alive&gt;</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">    &lt;!-- 需要缓存的视图组件 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">    &lt;router-view v-if=&quot;$route.meta.keepAlive&quot; /&gt;</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">  &lt;/keep-alive&gt;</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">  &lt;!-- 不需要缓存的视图组件 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#E6E6E6;">  &lt;router-view v-if=&quot;!$route.meta.keepAlive&quot; /&gt;</span></span>
<span class="line"><span style="--shiki-light:#002339;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#0444AC;--shiki-dark:#569CD6;">div</span><span style="--shiki-light:#002339;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!----><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/whiteChen233/whitechen233.github.io/edit/main/src/docs/note/front-end/Vue2/Vue_Router.md" aria-label="在 GitHub 上编辑此页" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->在 GitHub 上编辑此页<!----></a></div><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">上次编辑于: </span><!----></div><div class="contributors"><span class="vp-meta-label">贡献者: </span><!--[--><!--[--><span class="vp-meta-info" title="email: 294476387@qq.com">white</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/docs/note/front-end/Vue2/Vue_CLI.html" aria-label="Vue 脚手架"><div class="hint"><span class="arrow start"></span>上一页</div><div class="link"><!---->Vue 脚手架</div></a><a class="route-link auto-link next" href="/docs/note/front-end/Vue2/Vuex.html" aria-label="状态管理模式"><div class="hint">下一页<span class="arrow end"></span></div><div class="link">状态管理模式<!----></div></a></nav><div id="vp-comment" class="waline-wrapper" darkmode="false" style="display:block;"><div data-waline provider="Waline"><!--v-if--><div class="wl-comment"><!--v-if--><div class="wl-panel"><div class="wl-header item3"><!--[--><div class="wl-header-item"><label for="wl-nick">昵称</label><input id="wl-nick" class="wl-input wl-nick" name="nick" type="text" value></div><div class="wl-header-item"><label for="wl-mail">邮箱</label><input id="wl-mail" class="wl-input wl-mail" name="mail" type="email" value></div><div class="wl-header-item"><label for="wl-link">网址</label><input id="wl-link" class="wl-input wl-link" name="link" type="text" value></div><!--]--></div><textarea id="wl-edit" class="wl-editor" placeholder="请留言。(填写邮箱可在被回复时收到邮件提醒)"></textarea><div class="wl-preview" style="display:none;"><hr><h4>预览:</h4><div class="wl-content"></div></div><div class="wl-footer"><div class="wl-actions"><a href="https://guides.github.com/features/mastering-markdown/" title="Markdown Guide" aria-label="Markdown is supported" class="wl-action" target="_blank" rel="noopener noreferrer"><svg width="16" height="16" ariaHidden="true"><path d="M14.85 3H1.15C.52 3 0 3.52 0 4.15v7.69C0 12.48.52 13 1.15 13h13.69c.64 0 1.15-.52 1.15-1.15v-7.7C16 3.52 15.48 3 14.85 3zM9 11H7V8L5.5 9.92 4 8v3H2V5h2l1.5 2L7 5h2v6zm2.99.5L9.5 8H11V5h2v3h1.5l-2.51 3.5z" fill="currentColor"></path></svg></a><button type="button" class="wl-action" title="表情" style="display:none;"><svg viewBox="0 0 1024 1024" width="24" height="24"><path d="M563.2 463.3 677 540c1.7 1.2 3.7 1.8 5.8 1.8.7 0 1.4-.1 2-.2 2.7-.5 5.1-2.1 6.6-4.4l25.3-37.8c1.5-2.3 2.1-5.1 1.6-7.8s-2.1-5.1-4.4-6.6l-73.6-49.1 73.6-49.1c2.3-1.5 3.9-3.9 4.4-6.6.5-2.7 0-5.5-1.6-7.8l-25.3-37.8a10.1 10.1 0 0 0-6.6-4.4c-.7-.1-1.3-.2-2-.2-2.1 0-4.1.6-5.8 1.8l-113.8 76.6c-9.2 6.2-14.7 16.4-14.7 27.5.1 11 5.5 21.3 14.7 27.4zM387 348.8h-45.5c-5.7 0-10.4 4.7-10.4 10.4v153.3c0 5.7 4.7 10.4 10.4 10.4H387c5.7 0 10.4-4.7 10.4-10.4V359.2c0-5.7-4.7-10.4-10.4-10.4zm333.8 241.3-41-20a10.3 10.3 0 0 0-8.1-.5c-2.6.9-4.8 2.9-5.9 5.4-30.1 64.9-93.1 109.1-164.4 115.2-5.7.5-9.9 5.5-9.5 11.2l3.9 45.5c.5 5.3 5 9.5 10.3 9.5h.9c94.8-8 178.5-66.5 218.6-152.7 2.4-5 .3-11.2-4.8-13.6zm186-186.1c-11.9-42-30.5-81.4-55.2-117.1-24.1-34.9-53.5-65.6-87.5-91.2-33.9-25.6-71.5-45.5-111.6-59.2-41.2-14-84.1-21.1-127.8-21.1h-1.2c-75.4 0-148.8 21.4-212.5 61.7-63.7 40.3-114.3 97.6-146.5 165.8-32.2 68.1-44.3 143.6-35.1 218.4 9.3 74.8 39.4 145 87.3 203.3.1.2.3.3.4.5l36.2 38.4c1.1 1.2 2.5 2.1 3.9 2.6 73.3 66.7 168.2 103.5 267.5 103.5 73.3 0 145.2-20.3 207.7-58.7 37.3-22.9 70.3-51.5 98.1-85 27.1-32.7 48.7-69.5 64.2-109.1 15.5-39.7 24.4-81.3 26.6-123.8 2.4-43.6-2.5-87-14.5-129zm-60.5 181.1c-8.3 37-22.8 72-43 104-19.7 31.1-44.3 58.6-73.1 81.7-28.8 23.1-61 41-95.7 53.4-35.6 12.7-72.9 19.1-110.9 19.1-82.6 0-161.7-30.6-222.8-86.2l-34.1-35.8c-23.9-29.3-42.4-62.2-55.1-97.7-12.4-34.7-18.8-71-19.2-107.9-.4-36.9 5.4-73.3 17.1-108.2 12-35.8 30-69.2 53.4-99.1 31.7-40.4 71.1-72 117.2-94.1 44.5-21.3 94-32.6 143.4-32.6 49.3 0 97 10.8 141.8 32 34.3 16.3 65.3 38.1 92 64.8 26.1 26 47.5 56 63.6 89.2 16.2 33.2 26.6 68.5 31 105.1 4.6 37.5 2.7 75.3-5.6 112.3z" fill="currentColor"></path></svg></button><button type="button" class="wl-action" title="表情包"><svg width="24" height="24" fill="currentcolor" viewBox="0 0 24 24"><path style="transform: translateY(0.5px)" d="M18.968 10.5H15.968V11.484H17.984V12.984H15.968V15H14.468V9H18.968V10.5V10.5ZM8.984 9C9.26533 9 9.49967 9.09367 9.687 9.281C9.87433 9.46833 9.968 9.70267 9.968 9.984V10.5H6.499V13.5H8.468V12H9.968V14.016C9.968 14.2973 9.87433 14.5317 9.687 14.719C9.49967 14.9063 9.26533 15 8.984 15H5.984C5.70267 15 5.46833 14.9063 5.281 14.719C5.09367 14.5317 5 14.2973 5 14.016V9.985C5 9.70367 5.09367 9.46933 5.281 9.282C5.46833 9.09467 5.70267 9.001 5.984 9.001H8.984V9ZM11.468 9H12.968V15H11.468V9V9Z"></path><path d="M18.5 3H5.75C3.6875 3 2 4.6875 2 6.75V18C2 20.0625 3.6875 21.75 5.75 21.75H18.5C20.5625 21.75 22.25 20.0625 22.25 18V6.75C22.25 4.6875 20.5625 3 18.5 3ZM20.75 18C20.75 19.2375 19.7375 20.25 18.5 20.25H5.75C4.5125 20.25 3.5 19.2375 3.5 18V6.75C3.5 5.5125 4.5125 4.5 5.75 4.5H18.5C19.7375 4.5 20.75 5.5125 20.75 6.75V18Z"></path></svg></button><input id="wl-image-upload" class="upload" type="file" accept=".png,.jpg,.jpeg,.webp,.bmp,.gif"><label for="wl-image-upload" class="wl-action" title="上传图片"><svg viewBox="0 0 1024 1024" width="24" height="24"><path d="M784 112H240c-88 0-160 72-160 160v480c0 88 72 160 160 160h544c88 0 160-72 160-160V272c0-88-72-160-160-160zm96 640c0 52.8-43.2 96-96 96H240c-52.8 0-96-43.2-96-96V272c0-52.8 43.2-96 96-96h544c52.8 0 96 43.2 96 96v480z" fill="currentColor"></path><path d="M352 480c52.8 0 96-43.2 96-96s-43.2-96-96-96-96 43.2-96 96 43.2 96 96 96zm0-128c17.6 0 32 14.4 32 32s-14.4 32-32 32-32-14.4-32-32 14.4-32 32-32zm462.4 379.2-3.2-3.2-177.6-177.6c-25.6-25.6-65.6-25.6-91.2 0l-80 80-36.8-36.8c-25.6-25.6-65.6-25.6-91.2 0L200 728c-4.8 6.4-8 14.4-8 24 0 17.6 14.4 32 32 32 9.6 0 16-3.2 22.4-9.6L380.8 640l134.4 134.4c6.4 6.4 14.4 9.6 24 9.6 17.6 0 32-14.4 32-32 0-9.6-4.8-17.6-9.6-24l-52.8-52.8 80-80L769.6 776c6.4 4.8 12.8 8 20.8 8 17.6 0 32-14.4 32-32 0-8-3.2-16-8-20.8z" fill="currentColor"></path></svg></label><button type="button" class="wl-action" title="预览"><svg viewBox="0 0 1024 1024" width="24" height="24"><path d="M710.816 654.301c70.323-96.639 61.084-230.578-23.705-314.843-46.098-46.098-107.183-71.109-172.28-71.109-65.008 0-126.092 25.444-172.28 71.109-45.227 46.098-70.756 107.183-70.756 172.106 0 64.923 25.444 126.007 71.194 172.106 46.099 46.098 107.184 71.109 172.28 71.109 51.414 0 100.648-16.212 142.824-47.404l126.53 126.006c7.058 7.06 16.297 10.979 26.406 10.979 10.105 0 19.343-3.919 26.402-10.979 14.467-14.467 14.467-38.172 0-52.723L710.816 654.301zm-315.107-23.265c-65.88-65.88-65.88-172.54 0-238.42 32.069-32.07 74.245-49.149 119.471-49.149 45.227 0 87.407 17.603 119.472 49.149 65.88 65.879 65.88 172.539 0 238.42-63.612 63.178-175.242 63.178-238.943 0zm0 0" fill="currentColor"></path><path d="M703.319 121.603H321.03c-109.8 0-199.469 89.146-199.469 199.38v382.034c0 109.796 89.236 199.38 199.469 199.38h207.397c20.653 0 37.384-16.645 37.384-37.299 0-20.649-16.731-37.296-37.384-37.296H321.03c-68.582 0-124.352-55.77-124.352-124.267V321.421c0-68.496 55.77-124.267 124.352-124.267h382.289c68.582 0 124.352 55.771 124.352 124.267V524.72c0 20.654 16.736 37.299 37.385 37.299 20.654 0 37.384-16.645 37.384-37.299V320.549c-.085-109.8-89.321-198.946-199.121-198.946zm0 0" fill="currentColor"></path></svg></button></div><div class="wl-info"><div class="wl-captcha-container"></div><div class="wl-text-number">0 <!--v-if-->  字</div><button type="button" class="wl-btn">登录</button><button type="submit" class="primary wl-btn" title="Cmd|Ctrl + Enter"><!--[-->提交<!--]--></button></div><div class="wl-gif-popup"><input type="text" placeholder="搜索表情包"><!--v-if--><div class="wl-loading"><svg width="30" height="30" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" fill="none" stroke="currentColor" strokeWidth="4" r="40" stroke-dasharray="85 30"><animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform></circle></svg></div></div><div class="wl-emoji-popup"><!--[--><!--]--><!--v-if--></div></div></div><!--v-if--></div><div class="wl-meta-head"><div class="wl-count"><!--v-if--> 评论</div><ul class="wl-sort"><!--[--><li class="active">按正序</li><li class="">按倒序</li><li class="">按热度</li><!--]--></ul></div><div class="wl-cards"><!--[--><!--]--></div><div class="wl-loading"><svg width="30" height="30" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" fill="none" stroke="currentColor" strokeWidth="4" r="40" stroke-dasharray="85 30"><animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform></circle></svg></div><div class="wl-power"> Powered by <a href="https://github.com/walinejs/waline" target="_blank" rel="noopener noreferrer"> Waline </a> v3.2.1</div></div></div><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper"><div class="vp-footer">主题使用 <a href="https://theme-hope.vuejs.press/zh/" target="_blank">VuePress Theme Hope</a></div><div class="vp-copyright">MIT license | Copyright © 2021-present White</div></footer></div><!--]--><!--[--><!----><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-De7shokQ.js" defer></script>
  </body>
</html>
