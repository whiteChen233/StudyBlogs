---
title: 系统配置与性能评价
date: 2022-09-26
---

## 性能指标

- 字长和数据通路宽度
- 主存容量与存取速度
- 运算速度
  - 主频与CPU时钟周期
  - CPI[^1]与IPC[^2]
  - MIPS[^3]与MFLOPS[^4]
    - $MIPS=\text{指令条数} \div (\text{执行时间} \times 10^6)=\text{主频} \div CPI=\text{主频} \times IPC$
    - $MFLOPS=\text{浮点操作次数} \div (\text{执行时间} \times 10^6)$
- 吞吐量与吞吐率
- 响应时间（Response Time，RT）
- 完成时间（TAT）
- 兼容性

[^1]:平均每条指令的平均时钟周期个数（CPI，clock per instruction）
[^2]:每（时钟）周期运行多少个指令（IPC，instruction per clock）
[^3]:每秒执行百万条指令数（MIPS，Million Instruction Per Second）
[^4]:每秒百万浮点运算次数（MFLOPS，Million Floating-point Operations per Second）

## 阿姆达尔解决方案

对系统中某组件采用某种更快的执行方式，所获得的系统性能的改变程度，取决于该组件被使用的频率，或所占总执行时间的比例。加速比计算公式如下：
$$ R = \frac {T_p} {T_i} = \frac {1} {(1-F_e)+F_e / S_e}$$
其中，$T_p$表示不使用改进组件完成整个任务的时间，$T_i$表示使用改进组件完成整个任务的时间。加速比主要取决与两个因素：
- 在原有系统上，能被改进的部分在总执行时间中所占的比例，这个值称为改进比例，记为$F_e$，它总是小于1
- 通过改进的执行方式所取得的性能提高，即如果整个系统使用了改进的执行方式，那么，系统的执行速度会有多少提高，这个值等于在原来的条件下系统的执行时间与使用改进组件后系统的执行时间之比，记为$S_e$，它总是大于1

### 定义

系统中对某部件采用某种更快的执行方式，所获得的系统性能的改变程度，取决于这种方式被使用的频率，或所占总执行时间的比例

## 性能评价方法

- 时钟频率法：以时钟频率高低衡量速度
- 指令执行速度法：表示机器运算速度的单位是 MIPS
- 等效指令速度法 （ Gibson mix，吉普森混合法）：通过各类指令在程序中所占的比例（Wi）进行计算得到的
  - 特点：考虑指令比例不同的问题
- 数据处理速率法（PDR）：PDR 值的方法来衡量机器性能，PDR 值越大，机器性能越好。PDR = L/R 
  - 特点：考虑 CPU+存储
- 综合理论性能法（CTP）：CTP 用 MTOPS（Million Theoretical Operations Per Second，每秒百万次理论运算）表示。CTP 的估算方法是，首先算出处理部件每个计算单元的有效计算率，再按不同字长加以调整，得出该计算单元的理论性能，所有组成该处理部件的计算单元的理论性能之和即为 CTP
- 基准程序法：把应用程序中用得最多、最频繁的那部分核心程序作为评估计算机系统性能的标准程序，称为基准测试程序（benchmark）。基准程序法是目前一致承认的测试系统性能的较好方法

评估的意义：真实的程序 > 核心程序 > 小型基准程序 > 合成基准程序

![系统配置与性能评价-性能评价方法](/assets/qccstp/系统配置与性能评价-性能评价方法.png)