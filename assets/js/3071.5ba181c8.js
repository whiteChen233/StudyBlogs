"use strict";(self.webpackChunknote=self.webpackChunknote||[]).push([[3071],{3071:(e,t,a)=>{a.r(t),a.d(t,{default:()=>R});var o=a(4393),l=a(6309),n=a(4886),s=!1;if("undefined"!=typeof window){var r={get passive(){s=!0}};window.addEventListener("testPassive",null,r),window.removeEventListener("testPassive",null,r)}var i="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1),c=[],u=!1,h=-1,d=void 0,v=void 0,p=function(e){return c.some((function(t){return!(!t.options.allowTouchMove||!t.options.allowTouchMove(e))}))},y=function(e){var t=e||window.event;return!!p(t.target)||t.touches.length>1||(t.preventDefault&&t.preventDefault(),!1)},m=a(6252),g=a(2262),f=a(2201),w=a(8114),H=a(3429);const S=()=>(0,m.h)(w.A0,{name:"heading"},(()=>(0,m.h)("path",{d:"M250.4 704.6H64V595.4h202.4l26.2-166.6H94V319.6h214.4L352 64h127.8l-43.6 255.4h211.2L691 64h126.2l-43.6 255.4H960v109.2H756.2l-24.6 166.6H930v109.2H717L672 960H545.8l43.6-255.4H376.6L333 960H206.8l43.6-255.4zm168.4-276L394 595.4h211.2l24.6-166.6h-211z"})));S.displayName="HeadingIcon";const b=()=>(0,m.h)(w.A0,{name:"heart"},(()=>(0,m.h)("path",{d:"M1024 358.156C1024 195.698 892.3 64 729.844 64c-86.362 0-164.03 37.218-217.844 96.49C458.186 101.218 380.518 64 294.156 64 131.698 64 0 195.698 0 358.156 0 444.518 37.218 522.186 96.49 576H96l320 320c32 32 64 64 96 64s64-32 96-64l320-320h-.49c59.272-53.814 96.49-131.482 96.49-217.844zM841.468 481.232 517.49 805.49a2981.962 2981.962 0 0 1-5.49 5.48c-1.96-1.95-3.814-3.802-5.49-5.48L182.532 481.234C147.366 449.306 128 405.596 128 358.156 128 266.538 202.538 192 294.156 192c47.44 0 91.15 19.366 123.076 54.532L512 350.912l94.768-104.378C638.696 211.366 682.404 192 729.844 192 821.462 192 896 266.538 896 358.156c0 47.44-19.368 91.15-54.532 123.076z"})));b.displayName="HeartIcon";const E=()=>(0,m.h)(w.A0,{name:"history"},(()=>(0,m.h)("path",{d:"M512 1024a512 512 0 1 1 512-512 512 512 0 0 1-512 512zm0-896a384 384 0 1 0 384 384 384 384 0 0 0-384-384zm192 448H512a64 64 0 0 1-64-64V320a64 64 0 0 1 128 0v128h128a64 64 0 0 1 0 128z"})));E.displayName="HistoryIcon";const A=()=>(0,m.h)(w.A0,{name:"title"},(()=>(0,m.h)("path",{d:"M512 256c70.656 0 134.656 28.672 180.992 75.008A254.933 254.933 0 0 1 768 512c0 83.968-41.024 157.888-103.488 204.48C688.96 748.736 704 788.48 704 832c0 105.984-86.016 192-192 192-106.048 0-192-86.016-192-192h128a64 64 0 1 0 128 0 64 64 0 0 0-64-64 255.19 255.19 0 0 1-181.056-75.008A255.403 255.403 0 0 1 256 512c0-83.968 41.024-157.824 103.488-204.544C335.04 275.264 320 235.584 320 192A192 192 0 0 1 512 0c105.984 0 192 85.952 192 192H576a64.021 64.021 0 0 0-128 0c0 35.328 28.672 64 64 64zM384 512c0 70.656 57.344 128 128 128s128-57.344 128-128-57.344-128-128-128-128 57.344-128 128z"})));A.displayName="TitleIcon";const L=(0,l._aR)("search-pro-history",[]),x=(0,g.iH)(H.F),C=(0,m.Fl)((()=>JSON.parse((0,w.Fj)(x.value)))),k={},T={"/zh/":{cancel:"取消",placeholder:"搜索",search:"搜索",select:"选择",navigate:"切换",exit:"关闭",history:"搜索历史",emptyHistory:"无搜索历史",emptyResult:"没有找到结果",loading:"正在加载搜索索引..."},"/en/":{cancel:"Cancel",placeholder:"Search",search:"Search",select:"to select",navigate:"to navigate",exit:"to exit",history:"Search History",emptyHistory:"Empty Search History",emptyResult:"No results found",loading:"Loading search indexes..."},"/":{cancel:"Cancel",placeholder:"Search",search:"Search",select:"to select",navigate:"to navigate",exit:"to exit",history:"Search History",emptyHistory:"Empty Search History",emptyResult:"No results found",loading:"Loading search indexes..."}},z=(e,t)=>{const a=[];let o=0,l=0;const n=e.toLowerCase(),s=t.toLowerCase();let r=n.indexOf(s,o);const i=(e,t)=>{let o=e,n=!1;if(!t&&o.length>100&&0===l&&(o=`… ${o.slice(-10)}`),l+o.length>100){if(a.some((e=>"strong"===e[0])))return;o=o.slice(0,Math.max(100-l,1)),n=!0}o.length&&(a.push(t?["strong",o]:o),l+=o.length),n&&(a.push("…"),l+=2)};if(r<0)return null;for(;r>=0;){const t=r+s.length;if(i(e.slice(o,r),!1),i(e.slice(r,t),!0),o=t,r=n.indexOf(s,o),l>100)break}return i(e.slice(o),!1),a},M=e=>e.reduce(((e,{type:t})=>e+("title"===t?50:"heading"===t?20:"custom"===t?10:1)),0);var R=(0,m.aZ)({name:"SearchResult",props:{query:{type:String,required:!0}},emits:["close","updateQuery"],setup(e,{emit:t}){const a=(0,f.tv)(),r=(0,f.yj)(),H=(0,o.I)(),x=(0,w.zT)(T),{history:R,addHistory:$}=((e=5)=>({history:(0,g.OT)(L),addHistory:t=>{L.value.length<e?L.value=Array.from(new Set([t,...L.value])):L.value=Array.from(new Set([...L.value.slice(0,e-1),t]))}}))(),I=(0,g.Vh)(e,"query"),O=(e=>{const t=(0,o.I)(),a=(0,g.iH)([]),l=(0,m.Fl)((()=>C.value[t.value])),s=(0,n.DI)((e=>{a.value=e?((e,t)=>{var a;const o={};for(const[l,n]of Object.entries(t)){const s=(null==(a=t[l.replace(/\/[^\\]*$/,"")])?void 0:a.title)||"",r=`${s?`${s} > `:""}${n.title}`,i=z(n.title,e);i&&(o[r]=[...o[r]||[],{type:"title",path:l,display:i}]),n.customFields&&Object.entries(n.customFields).forEach((([t,a])=>{a.forEach((a=>{const n=z(a,e);n&&(o[r]=[...o[r]||[],{type:"custom",path:l,index:t,display:n}])}))}));for(const t of n.contents){const a=z(t.header,e);a&&(o[r]=[...o[r]||[],{type:"heading",path:l+(t.slug?`#${t.slug}`:""),display:a}]);for(const a of t.contents){const s=z(a,e);s&&(o[r]=[...o[r]||[],{type:"content",header:t.header||n.title||"Documentation",path:l+(t.slug?`#${t.slug}`:""),display:s}])}}}return Object.keys(o).sort(((e,t)=>M(o[e])-M(o[t]))).map((e=>({title:e,contents:o[e]})))})(e,l.value):[]}),300);return(0,m.YP)([e,t],(()=>{s(e.value)})),a})(I),F=(0,g.iH)(0),N=(0,g.iH)(0),j=(0,g.iH)(),D=(0,m.Fl)((()=>O.value.length>0)),P=(0,m.Fl)((()=>O.value[F.value]||null)),B=e=>e.map((e=>"string"==typeof e?e:(0,m.h)(e[0],e[1]))),Q=e=>{if("custom"===e.type){const t=k[e.index]||"$content",[a,o=""]="object"==typeof t?t[H.value].split("$content"):t.split("$content");return B([a,...e.display,o])}return B(e.display)};return(0,m.bv)((()=>{(0,l.ORN)("keydown",(e=>{if(D.value)if("ArrowUp"===e.key)N.value>0?N.value=N.value-1:(F.value=F.value>0?F.value-1:O.value.length-1,N.value=P.value.contents.length-1);else if("ArrowDown"===e.key)N.value<P.value.contents.length-1?N.value=N.value+1:(F.value=F.value<O.value.length-1?F.value+1:0,N.value=0);else if("Enter"===e.key){const e=P.value.contents[N.value].path;r.path!==e&&(a.push(e),$(I.value),t("updateQuery",""),t("close"))}})),function(e,t){if(e){if(!c.some((function(t){return t.targetElement===e}))){var a={targetElement:e,options:t||{}};c=[].concat(function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}(c),[a]),i?(e.ontouchstart=function(e){1===e.targetTouches.length&&(h=e.targetTouches[0].clientY)},e.ontouchmove=function(t){1===t.targetTouches.length&&function(e,t){var a=e.targetTouches[0].clientY-h;!p(e.target)&&(t&&0===t.scrollTop&&a>0||function(e){return!!e&&e.scrollHeight-e.scrollTop<=e.clientHeight}(t)&&a<0?y(e):e.stopPropagation())}(t,e)},u||(document.addEventListener("touchmove",y,s?{passive:!1}:void 0),u=!0)):function(e){if(void 0===v){var t=!!e&&!0===e.reserveScrollBarGap,a=window.innerWidth-document.documentElement.clientWidth;t&&a>0&&(v=document.body.style.paddingRight,document.body.style.paddingRight=a+"px")}void 0===d&&(d=document.body.style.overflow,document.body.style.overflow="hidden")}(t)}}else console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.")}(j.value,{reserveScrollBarGap:!0})})),(0,m.Jd)((()=>{i?(c.forEach((function(e){e.targetElement.ontouchstart=null,e.targetElement.ontouchmove=null})),u&&(document.removeEventListener("touchmove",y,s?{passive:!1}:void 0),u=!1),h=-1):(void 0!==v&&(document.body.style.paddingRight=v,v=void 0),void 0!==d&&(document.body.style.overflow=d,d=void 0)),c=[]})),()=>(0,m.h)("div",{class:["search-pro-result",{empty:""===I.value?0===R.value.length:!D.value}],ref:j},""===I.value?R.value.length?(0,m.h)("ul",{class:"search-pro-result-list"},R.value.map((e=>(0,m.h)("li",{class:"search-pro-result-list-item"},[(0,m.h)("div",{class:"search-pro-result-title"},x.value.history),(0,m.h)("div",{class:"search-pro-result-item",onClick:()=>{t("updateQuery",e)}},[(0,m.h)(E,{class:"search-pro-result-type"}),(0,m.h)("div",{class:"search-pro-result-content"},e)])])))):x.value.emptyHistory:D.value?(0,m.h)("ul",{class:"search-pro-result-list"},O.value.map((({title:e,contents:a},o)=>{const l=F.value===o;return(0,m.h)("li",{class:["search-pro-result-list-item",{active:l}]},[(0,m.h)("div",{class:"search-pro-result-title"},e||"Documentation"),a.map(((e,a)=>(0,m.h)(f.rH,{to:e.path,class:["search-pro-result-item",{active:l&&N.value===a}],onClick:()=>{$(I.value),t("updateQuery",""),t("close")}},(()=>["content"===e.type?null:(0,m.h)("title"===e.type?A:"heading"===e.type?S:b,{class:"search-pro-result-type"}),(0,m.h)("div",{class:"search-pro-result-content"},["content"===e.type?(0,m.h)("div",{class:"content-header"},e.header):null,(0,m.h)("div",Q(e))])]))))])}))):x.value.emptyResult)}})}}]);