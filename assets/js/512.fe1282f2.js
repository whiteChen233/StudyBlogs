"use strict";(self.webpackChunknote=self.webpackChunknote||[]).push([[512],{512:(e,t,a)=>{a.r(t),a.d(t,{default:()=>x});var l=a(4393),s=a(6309),r=a(4886),c=a(8509),n=a(6252),o=a(2262),i=a(2201),u=a(1777),h=a(3429);const p=()=>(0,n.h)(u.A0,{name:"heading"},(()=>(0,n.h)("path",{d:"M250.4 704.6H64V595.4h202.4l26.2-166.6H94V319.6h214.4L352 64h127.8l-43.6 255.4h211.2L691 64h126.2l-43.6 255.4H960v109.2H756.2l-24.6 166.6H930v109.2H717L672 960H545.8l43.6-255.4H376.6L333 960H206.8l43.6-255.4zm168.4-276L394 595.4h211.2l24.6-166.6h-211z"})));p.displayName="HeadingIcon";const v=()=>(0,n.h)(u.A0,{name:"heart"},(()=>(0,n.h)("path",{d:"M1024 358.156C1024 195.698 892.3 64 729.844 64c-86.362 0-164.03 37.218-217.844 96.49C458.186 101.218 380.518 64 294.156 64 131.698 64 0 195.698 0 358.156 0 444.518 37.218 522.186 96.49 576H96l320 320c32 32 64 64 96 64s64-32 96-64l320-320h-.49c59.272-53.814 96.49-131.482 96.49-217.844zM841.468 481.232 517.49 805.49a2981.962 2981.962 0 0 1-5.49 5.48c-1.96-1.95-3.814-3.802-5.49-5.48L182.532 481.234C147.366 449.306 128 405.596 128 358.156 128 266.538 202.538 192 294.156 192c47.44 0 91.15 19.366 123.076 54.532L512 350.912l94.768-104.378C638.696 211.366 682.404 192 729.844 192 821.462 192 896 266.538 896 358.156c0 47.44-19.368 91.15-54.532 123.076z"})));v.displayName="HeartIcon";const y=()=>(0,n.h)(u.A0,{name:"history"},(()=>(0,n.h)("path",{d:"M512 1024a512 512 0 1 1 512-512 512 512 0 0 1-512 512zm0-896a384 384 0 1 0 384 384 384 384 0 0 0-384-384zm192 448H512a64 64 0 0 1-64-64V320a64 64 0 0 1 128 0v128h128a64 64 0 0 1 0 128z"})));y.displayName="HistoryIcon";const d=()=>(0,n.h)(u.A0,{name:"title"},(()=>(0,n.h)("path",{d:"M512 256c70.656 0 134.656 28.672 180.992 75.008A254.933 254.933 0 0 1 768 512c0 83.968-41.024 157.888-103.488 204.48C688.96 748.736 704 788.48 704 832c0 105.984-86.016 192-192 192-106.048 0-192-86.016-192-192h128a64 64 0 1 0 128 0 64 64 0 0 0-64-64 255.19 255.19 0 0 1-181.056-75.008A255.403 255.403 0 0 1 256 512c0-83.968 41.024-157.824 103.488-204.544C335.04 275.264 320 235.584 320 192A192 192 0 0 1 512 0c105.984 0 192 85.952 192 192H576a64.021 64.021 0 0 0-128 0c0 35.328 28.672 64 64 64zM384 512c0 70.656 57.344 128 128 128s128-57.344 128-128-57.344-128-128-128-128 57.344-128 128z"})));d.displayName="TitleIcon";const m=(0,s._aR)("search-pro-history",[]),g=(0,o.iH)(h.F),H=(0,n.Fl)((()=>JSON.parse((0,u.Fj)(g.value)))),f={},C={"/zh/":{cancel:"取消",placeholder:"搜索",search:"搜索",select:"选择",navigate:"切换",exit:"关闭",history:"搜索历史",emptyHistory:"无搜索历史",emptyResult:"没有找到结果",loading:"正在加载搜索索引..."},"/en/":{cancel:"Cancel",placeholder:"Search",search:"Search",select:"to select",navigate:"to navigate",exit:"to exit",history:"Search History",emptyHistory:"Empty Search History",emptyResult:"No results found",loading:"Loading search indexes..."},"/":{cancel:"Cancel",placeholder:"Search",search:"Search",select:"to select",navigate:"to navigate",exit:"to exit",history:"Search History",emptyHistory:"Empty Search History",emptyResult:"No results found",loading:"Loading search indexes..."}},S=(e,t)=>{const a=[];let l=0,s=0;const r=e.toLowerCase(),c=t.toLowerCase();let n=r.indexOf(c,l);const o=(e,t)=>{let l=e,r=!1;if(!t&&l.length>100&&0===s&&(l=`… ${l.slice(-10)}`),s+l.length>100){if(a.some((e=>"strong"===e[0])))return;l=l.slice(0,Math.max(100-s,1)),r=!0}l.length&&(a.push(t?["strong",l]:l),s+=l.length),r&&(a.push("…"),s+=2)};if(n<0)return null;for(;n>=0;){const t=n+c.length;if(o(e.slice(l,n),!1),o(e.slice(n,t),!0),l=t,n=r.indexOf(c,l),s>100)break}return o(e.slice(l),!1),a},k=e=>e.reduce(((e,{type:t})=>e+("title"===t?50:"heading"===t?20:"custom"===t?10:1)),0);var x=(0,n.aZ)({name:"SearchResult",props:{query:{type:String,required:!0}},emits:["close","updateQuery"],setup(e,{emit:t}){const a=(0,i.tv)(),h=(0,i.yj)(),g=(0,l.I)(),x=(0,u.zT)(C),{history:z,addHistory:A}=((e=5)=>({history:(0,o.OT)(m),addHistory:t=>{m.value.length<e?m.value=Array.from(new Set([t,...m.value])):m.value=Array.from(new Set([...m.value.slice(0,e-1),t]))}}))(),L=(0,o.Vh)(e,"query"),w=(e=>{const t=(0,l.I)(),a=(0,o.iH)([]),s=(0,n.Fl)((()=>H.value[t.value])),c=(0,r.DI)((e=>{a.value=e?((e,t)=>{var a;const l={};for(const[s,r]of Object.entries(t)){const c=(null==(a=t[s.replace(/\/[^\\]*$/,"")])?void 0:a.title)||"",n=`${c?`${c} > `:""}${r.title}`,o=S(r.title,e);o&&(l[n]=[...l[n]||[],{type:"title",path:s,display:o}]),r.customFields&&Object.entries(r.customFields).forEach((([t,a])=>{a.forEach((a=>{const r=S(a,e);r&&(l[n]=[...l[n]||[],{type:"custom",path:s,index:t,display:r}])}))}));for(const t of r.contents){const a=S(t.header,e);a&&(l[n]=[...l[n]||[],{type:"heading",path:s+(t.slug?`#${t.slug}`:""),display:a}]);for(const a of t.contents){const c=S(a,e);c&&(l[n]=[...l[n]||[],{type:"content",header:t.header||r.title||"Documentation",path:s+(t.slug?`#${t.slug}`:""),display:c}])}}}return Object.keys(l).sort(((e,t)=>k(l[e])-k(l[t]))).map((e=>({title:e,contents:l[e]})))})(e,s.value):[]}),300);return(0,n.YP)([e,t],(()=>{c(e.value)})),a})(L),$=(0,o.iH)(0),b=(0,o.iH)(0),F=(0,o.iH)(),N=(0,n.Fl)((()=>w.value.length>0)),O=(0,n.Fl)((()=>w.value[$.value]||null)),I=e=>e.map((e=>"string"==typeof e?e:(0,n.h)(e[0],e[1]))),M=e=>{if("custom"===e.type){const t=f[e.index]||"$content",[a,l=""]="object"==typeof t?t[g.value].split("$content"):t.split("$content");return I([a,...e.display,l])}return I(e.display)};return(0,n.bv)((()=>{(0,s.ORN)("keydown",(e=>{if(N.value)if("ArrowUp"===e.key)b.value>0?b.value=b.value-1:($.value=$.value>0?$.value-1:w.value.length-1,b.value=O.value.contents.length-1);else if("ArrowDown"===e.key)b.value<O.value.contents.length-1?b.value=b.value+1:($.value=$.value<w.value.length-1?$.value+1:0,b.value=0);else if("Enter"===e.key){const e=O.value.contents[b.value].path;h.path!==e&&(a.push(e),A(L.value),t("updateQuery",""),t("close"))}})),(0,c.Qp)(F.value,{reserveScrollBarGap:!0})})),(0,n.Jd)((()=>{(0,c.tP)()})),()=>(0,n.h)("div",{class:["search-pro-result",{empty:""===L.value?0===z.value.length:!N.value}],ref:F},""===L.value?z.value.length?(0,n.h)("ul",{class:"search-pro-result-list"},z.value.map((e=>(0,n.h)("li",{class:"search-pro-result-list-item"},[(0,n.h)("div",{class:"search-pro-result-title"},x.value.history),(0,n.h)("div",{class:"search-pro-result-item",onClick:()=>{t("updateQuery",e)}},[(0,n.h)(y,{class:"search-pro-result-type"}),(0,n.h)("div",{class:"search-pro-result-content"},e)])])))):x.value.emptyHistory:N.value?(0,n.h)("ul",{class:"search-pro-result-list"},w.value.map((({title:e,contents:a},l)=>{const s=$.value===l;return(0,n.h)("li",{class:["search-pro-result-list-item",{active:s}]},[(0,n.h)("div",{class:"search-pro-result-title"},e||"Documentation"),a.map(((e,a)=>(0,n.h)(i.rH,{to:e.path,class:["search-pro-result-item",{active:s&&b.value===a}],onClick:()=>{A(L.value),t("updateQuery",""),t("close")}},(()=>["content"===e.type?null:(0,n.h)("title"===e.type?d:"heading"===e.type?p:v,{class:"search-pro-result-type"}),(0,n.h)("div",{class:"search-pro-result-content"},["content"===e.type?(0,n.h)("div",{class:"content-header"},e.header):null,(0,n.h)("div",M(e))])]))))])}))):x.value.emptyResult)}})}}]);